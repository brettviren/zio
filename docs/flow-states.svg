<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="418px" preserveAspectRatio="none" style="width:1796px;height:418px;" version="1.1" viewBox="0 0 1796 418" width="1796px" zoomAndPan="magnify"><defs><filter height="300%" id="f19s78431d7pnn" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="178" x="818.5" y="16.708">ZIO data flow states</text><ellipse cx="48.5" cy="45.9531" fill="#000000" filter="url(#f19s78431d7pnn)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f19s78431d7pnn)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="60" x="18.5" y="107.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="18.5" x2="78.5" y1="134.25" y2="134.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="28.5" y="125.9482">CTOR</text><rect fill="#FEFECE" filter="url(#f19s78431d7pnn)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="23.5" y="192.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="23.5" x2="73.5" y1="219.25" y2="219.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="33.5" y="210.9482">IDLE</text><rect fill="#FEFECE" filter="url(#f19s78431d7pnn)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="199.5" y="149.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="199.5" x2="288.5" y1="176.25" y2="176.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="209.5" y="167.9482">BOTSEND</text><rect fill="#FEFECE" filter="url(#f19s78431d7pnn)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="200" y="234.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="200" x2="288" y1="261.25" y2="261.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="210" y="252.9482">BOTRECV</text><rect fill="#FEFECE" filter="url(#f19s78431d7pnn)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="1545.5" y="149.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1545.5" x2="1614.5" y1="176.25" y2="176.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="1555.5" y="167.9482">FINACK</text><rect fill="#FEFECE" filter="url(#f19s78431d7pnn)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="1545.5" y="234.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1545.5" x2="1614.5" y1="261.25" y2="261.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="1555.5" y="252.9482">ACKFIN</text><rect fill="#FEFECE" filter="url(#f19s78431d7pnn)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="1734.5" y="192.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1734.5" x2="1784.5" y1="219.25" y2="219.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="1749" y="210.9482">FIN</text><rect fill="#FEFECE" filter="url(#f19s78431d7pnn)" height="378.2969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="1016" x="409.5" y="28.9531"/><rect fill="#FFFFFF" height="346" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="1010" x="412.5" y="58.25"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="409.5" x2="1425.5" y1="55.25" y2="55.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="893.5" y="46.9482">READY</text><ellipse cx="430.5" cy="248.75" fill="#000000" filter="url(#f19s78431d7pnn)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f19s78431d7pnn)" height="189.2969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="670" x="701.5" y="68.25"/><rect fill="#FFFFFF" height="157" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="664" x="704.5" y="97.5469"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="701.5" x2="1371.5" y1="94.5469" y2="94.5469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="1013" y="86.2451">GIVING</text><ellipse cx="734.5" cy="132.5469" fill="#000000" filter="url(#f19s78431d7pnn)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f19s78431d7pnn)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="796.5" y="107.5469"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="796.5" x2="865.5" y1="133.8438" y2="133.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="806.5" y="125.542">BROKE</text><rect fill="#FEFECE" filter="url(#f19s78431d7pnn)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="781.5" y="192.5469"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="781.5" x2="880.5" y1="218.8438" y2="218.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="791.5" y="210.542">GENEROUS</text><rect fill="#FEFECE" filter="url(#f19s78431d7pnn)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="1206.5" y="152.5469"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1206.5" x2="1326.5" y1="178.8438" y2="178.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="1216.5" y="170.542">CREDITCHECK</text><!--MD5=[0e3e0a9dbd59f70ce7648b15490b889f]
link *start*GIVING to BROKE--><path d="M744.8272,132.5469 C755.9312,132.5469 774.274,132.5469 791.1888,132.5469 " fill="none" id="*start*GIVING-&gt;BROKE" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="796.3828,132.5469,787.3828,128.5469,791.3828,132.5469,787.3828,136.5469,796.3828,132.5469" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[c89a6c52353ecfaac6c0a5d8eaf08ddf]
link BROKE to GENEROUS--><path d="M831,157.7047 C831,166.9711 831,177.5652 831,187.2387 " fill="none" id="BROKE-&gt;GENEROUS" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="831,192.5038,835,183.5038,831,187.5038,827,183.5038,831,192.5038" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="212" x="713.5" y="179.6138">RecvPAY [ check_pay ] / recv_pay</text><!--MD5=[915e027c9ee3a2ba77a21eb8513e9c16]
link GENEROUS to CREDITCHECK--><path d="M880.5203,203.1318 C886.5393,201.739 892.6332,200.4946 898.5,199.5469 C1003.3951,182.6021 1127.0041,178.3825 1200.9414,177.5098 " fill="none" id="GENEROUS-&gt;CREDITCHECK" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1206.1781,177.4526,1197.1349,173.5513,1201.1784,177.5073,1197.2224,181.5508,1206.1781,177.4526" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="899.5" y="174.6138">SendDAT / (send_msg,process(CreditCheck))</text><!--MD5=[33edc71a33415286f6208ebaa58b329f]
link CREDITCHECK to GENEROUS--><path d="M1230.0266,202.6054 C1217.4388,209.8749 1202.876,216.8468 1188.5,220.5469 C1084.0135,247.4398 956.593,236.4281 885.5585,226.5881 " fill="none" id="CREDITCHECK-&gt;GENEROUS" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="880.5426,225.8822,888.8973,231.0975,885.4938,226.579,890.0123,223.1756,880.5426,225.8822" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="957" y="216.6138">CreditCheck [ have_credit ]</text><!--MD5=[c659d4d45c33f6b769c0fec3dc6fdad5]
link CREDITCHECK to BROKE--><path d="M1206.2604,160.9512 C1200.2899,159.6531 1194.2961,158.4847 1188.5,157.5469 C1074.1687,139.0481 937.0823,134.2334 870.7859,132.9832 " fill="none" id="CREDITCHECK-&gt;BROKE" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="865.7502,132.8926,874.6767,137.0539,870.7494,132.9826,874.8207,129.0552,865.7502,132.8926" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="954.5" y="130.6138">CreditCheck [ !have_credit ]</text><rect fill="#FEFECE" filter="url(#f19s78431d7pnn)" height="117.2969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="712" x="680.5" y="275.25"/><rect fill="#FFFFFF" height="85" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="706" x="683.5" y="304.5469"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="680.5" x2="1392.5" y1="301.5469" y2="301.5469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="1011" y="293.2451">TAKING</text><ellipse cx="701.5" cy="339.8363" fill="#000000" filter="url(#f19s78431d7pnn)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f19s78431d7pnn)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="122" x="748.5" y="314.8363"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="748.5" x2="870.5" y1="341.1332" y2="341.1332"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="758.5" y="332.8314">WALLETCHECK</text><rect fill="#FEFECE" filter="url(#f19s78431d7pnn)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="1260.5" y="314.8363"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1260.5" x2="1359.5" y1="341.1332" y2="341.1332"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="1270.5" y="332.8314">HANDSOUT</text><!--MD5=[2f484353c54daa831874124c87e25d25]
link *start*TAKING to WALLETCHECK--><path d="M711.8555,339.8363 C719.5703,339.8363 730.835,339.8363 742.9948,339.8363 " fill="none" id="*start*TAKING-&gt;WALLETCHECK" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="748.2533,339.8363,739.2533,335.8363,743.2533,339.8363,739.2533,343.8363,748.2533,339.8363" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[19c0a42eaad3eee2918d2c7464312f70]
link WALLETCHECK to HANDSOUT--><path d="M870.8711,339.8363 C969.2472,339.8363 1160.7258,339.8363 1254.9423,339.8363 " fill="none" id="WALLETCHECK-&gt;HANDSOUT" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1260.1804,339.8363,1251.1804,335.8363,1255.1804,339.8363,1251.1804,343.8363,1260.1804,339.8363" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="953" y="335.9032">SendPAY [ have_credit ] / flush_pay</text><!--MD5=[17f73eacdc77bea7ac94125295dc8430]
link HANDSOUT to WALLETCHECK--><path d="M1260.2636,357.1455 C1254.3372,358.6598 1248.3241,359.9513 1242.5,360.8363 C1086.9524,384.4739 1044.5076,381.2176 888.5,360.8363 C884.3532,360.2946 880.1142,359.5993 875.8593,358.793 " fill="none" id="HANDSOUT-&gt;WALLETCHECK" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="870.8616,357.798,878.9074,363.4783,875.7654,358.7742,880.4694,355.6322,870.8616,357.798" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="352" x="889.5" y="356.9032">RecvDAT [ check_dat ] / (recv_msg, process(SendPAY))</text><!--MD5=[5234805709eca2090569787620bd6463]
link *start*READY to GIVING--><path d="M438.906,242.7604 C444.2593,239.2549 451.4844,235.0736 458.5,232.75 C533.6143,207.8718 616.8368,191.6631 696.1851,181.148 " fill="none" id="*start*READY-&gt;GIVING" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="701.4059,180.4636,691.9624,177.6672,696.4483,181.1134,693.0021,185.5994,701.4059,180.4636" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="498" y="182.8169">BeginFlow [is_giver]</text><!--MD5=[235d885f9b189d379d5eaabc3f5d1c61]
link *start*READY to TAKING--><path d="M440.5127,250.1544 C471.1505,254.4518 568.0761,268.047 675.1053,283.0593 " fill="none" id="*start*READY-&gt;TAKING" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="680.2094,283.7752,671.8525,278.5635,675.2579,283.0805,670.7409,286.4859,680.2094,283.7752" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="202" x="459.5" y="249.8169">BeginFlow [!is_giver] / flush_pay</text><!--MD5=[60064ffd66f60c3755d7f4cc10742ab1]
link *start to CTOR--><path d="M48.5,55.9809 C48.5,67.27 48.5,86.1582 48.5,102.398 " fill="none" id="*start-&gt;CTOR" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="48.5,107.7891,52.5,98.7891,48.5,102.7891,44.5,98.7891,48.5,107.7891" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="7" y="86.52">construct</text><!--MD5=[1d2f793f0fbda3a9de05025a85af21a2]
link CTOR to IDLE--><path d="M48.5,158.1667 C48.5,167.9745 48.5,177.7822 48.5,187.5899 " fill="none" id="CTOR-&gt;IDLE" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="48.5,192.7187,52.5,183.7187,48.5,187.7187,44.5,183.7187,48.5,192.7187" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[b15fc15c12522dc336d617ea13c4fa0d]
link IDLE to BOTSEND--><path d="M73.658,212.4196 C103.9578,205.7552 155.5761,194.4018 194.0682,185.9355 " fill="none" id="IDLE-&gt;BOTSEND" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="199.1704,184.8133,189.5212,182.8402,194.2871,185.8875,191.2398,190.6534,199.1704,184.8133" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="109.5" y="189.02">SendBOT</text><!--MD5=[7d9dd3e83bd1fb9406e825ef6b4270b9]
link IDLE to BOTRECV--><path d="M73.7217,229.663 C84.269,234.1302 96.7791,238.8816 108.5,241.9531 C136.5851,249.3128 168.7734,253.7491 194.7287,256.3753 " fill="none" id="IDLE-&gt;BOTRECV" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="199.8336,256.8767,191.2678,252.0159,194.8576,256.3879,190.4856,259.9776,199.8336,256.8767" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="111" y="238.02">RecvBOT</text><!--MD5=[8da5fa9e3b2e02eb53551d7fa78089e2]
link BOTSEND to READY--><path d="M288.7118,177.8078 C317.2711,179.6311 357.6515,182.2092 404.335,185.1898 " fill="none" id="BOTSEND-&gt;READY" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="409.4629,185.5172,400.7362,180.9517,404.4731,185.1985,400.2262,188.9354,409.4629,185.5172" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="321" y="177.02">RecvBOT</text><!--MD5=[c61926f3d5789fc45521ef3641b6750f]
link BOTRECV to READY--><path d="M288.1902,257.1974 C316.7791,255.4145 357.3686,252.8833 404.3384,249.9543 " fill="none" id="BOTRECV-&gt;READY" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="409.4978,249.6325,400.2662,246.2006,404.5075,249.9438,400.7643,254.1851,409.4978,249.6325" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="319.5" y="247.02">SendBOT</text><!--MD5=[7e6bb0350e716e548fe2db3581efad4e]
link READY to FINACK--><path d="M1425.5093,184.9804 C1472.5154,181.9295 1512.8056,179.3144 1540.4445,177.5205 " fill="none" id="READY-&gt;FINACK" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1545.4569,177.1951,1536.2167,173.7865,1540.4674,177.519,1536.7349,181.7697,1545.4569,177.1951" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="1458" y="176.02">RecvEOT</text><!--MD5=[508ec06c44757471170ea9ebbd2c23d8]
link READY to ACKFIN--><path d="M1425.5093,250.159 C1472.5154,253.139 1512.8056,255.6932 1540.4445,257.4454 " fill="none" id="READY-&gt;ACKFIN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1545.4569,257.7632,1536.7281,253.2017,1540.4669,257.4468,1536.2218,261.1856,1545.4569,257.7632" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="1456.5" y="248.02">SendEOT</text><!--MD5=[965d3267340491b6ca6161b2bc98e793]
link FINACK to FIN--><path d="M1614.6094,183.2439 C1647.8752,191.2129 1697.6418,203.1347 1729.332,210.7262 " fill="none" id="FINACK-&gt;FIN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1734.2576,211.9062,1726.4373,205.9193,1729.3952,210.7412,1724.5733,213.6992,1734.2576,211.9062" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="1645.5" y="188.02">SendEOT</text><!--MD5=[ce5da5611bd241d3c0411193df008fc3]
link ACKFIN to FIN--><path d="M1614.6021,257.4527 C1639.8777,255.0259 1674.7798,250.4195 1704.5,241.9531 C1712.7974,239.5894 1721.482,236.2435 1729.435,232.7982 " fill="none" id="ACKFIN-&gt;FIN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1734.2823,230.6481,1724.4334,230.641,1729.7118,232.6755,1727.6773,237.9539,1734.2823,230.6481" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="1647" y="238.02">RecvEOT</text><!--MD5=[6c26bc1d633144f87e173d8e99164c90]
@startuml
left to right direction
title ZIO data flow states
[*] -> CTOR : construct
CTOR -> IDLE
IDLE - -> BOTSEND : SendBOT
IDLE - -> BOTRECV : RecvBOT
BOTSEND - -> READY : RecvBOT
BOTRECV - -> READY : SendBOT

state READY {
        [*] - -> GIVING : BeginFlow [is_giver]
        [*] - -> TAKING : BeginFlow [!is_giver] / flush_pay

state GIVING {
        [*] - -> BROKE
        BROKE -> GENEROUS : RecvPAY [ check_pay ] / recv_pay
        GENEROUS -> CREDITCHECK : SendDAT / (send_msg,process(CreditCheck))
        CREDITCHECK - -> GENEROUS : CreditCheck [ have_credit ]
        CREDITCHECK - -> BROKE : CreditCheck [ !have_credit ]
}

state TAKING {
        [*] - -> WALLETCHECK
        WALLETCHECK -> HANDSOUT : SendPAY [ have_credit ] / flush_pay
        HANDSOUT - -> WALLETCHECK : RecvDAT [ check_dat ] / (recv_msg, process(SendPAY))
}
}
READY - -> FINACK : RecvEOT
READY - -> ACKFIN : SendEOT

FINACK - -> FIN : SendEOT
ACKFIN - -> FIN : RecvEOT

@enduml

PlantUML version 1.2020.01(Sun Feb 16 12:40:32 EST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_242-8u242-b08-0ubuntu3~18.04-b08
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>