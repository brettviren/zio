<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="381px" preserveAspectRatio="none" style="width:1817px;height:381px;" version="1.1" viewBox="0 0 1817 381" width="1817px" zoomAndPan="magnify"><defs><filter height="300%" id="f1tvwv1z74upuz" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="178" x="829" y="16.708">ZIO data flow states</text><ellipse cx="48.5" cy="46.9531" fill="#000000" filter="url(#f1tvwv1z74upuz)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1tvwv1z74upuz)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="60" x="18.5" y="108.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="18.5" x2="78.5" y1="135.25" y2="135.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="28.5" y="126.9482">CTOR</text><rect fill="#FEFECE" filter="url(#f1tvwv1z74upuz)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="23.5" y="193.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="23.5" x2="73.5" y1="220.25" y2="220.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="33.5" y="211.9482">IDLE</text><rect fill="#FEFECE" filter="url(#f1tvwv1z74upuz)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="199.5" y="150.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="199.5" x2="288.5" y1="177.25" y2="177.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="209.5" y="168.9482">BOTSEND</text><rect fill="#FEFECE" filter="url(#f1tvwv1z74upuz)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="200" y="235.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="200" x2="288" y1="262.25" y2="262.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="210" y="253.9482">BOTRECV</text><rect fill="#FEFECE" filter="url(#f1tvwv1z74upuz)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="409.5" y="193.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="409.5" x2="477.5" y1="220.25" y2="220.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="419.5" y="211.9482">READY</text><rect fill="#FEFECE" filter="url(#f1tvwv1z74upuz)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="1566.5" y="150.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1566.5" x2="1635.5" y1="177.25" y2="177.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="1576.5" y="168.9482">FINACK</text><rect fill="#FEFECE" filter="url(#f1tvwv1z74upuz)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="1566.5" y="235.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1566.5" x2="1635.5" y1="262.25" y2="262.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="1576.5" y="253.9482">ACKFIN</text><rect fill="#FEFECE" filter="url(#f1tvwv1z74upuz)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="1755.5" y="193.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1755.5" x2="1805.5" y1="220.25" y2="220.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="1770" y="211.9482">FIN</text><rect fill="#FEFECE" filter="url(#f1tvwv1z74upuz)" height="189.2969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="670" x="759" y="29.4531"/><rect fill="#FFFFFF" height="157" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="664" x="762" y="58.75"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="759" x2="1429" y1="55.75" y2="55.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="1070.5" y="47.4482">GIVING</text><ellipse cx="792" cy="93.75" fill="#000000" filter="url(#f1tvwv1z74upuz)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1tvwv1z74upuz)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="854" y="68.75"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="854" x2="923" y1="95.0469" y2="95.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="864" y="86.7451">BROKE</text><rect fill="#FEFECE" filter="url(#f1tvwv1z74upuz)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="839" y="153.75"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="839" x2="938" y1="180.0469" y2="180.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="849" y="171.7451">GENEROUS</text><rect fill="#FEFECE" filter="url(#f1tvwv1z74upuz)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="1264" y="113.75"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1264" x2="1384" y1="140.0469" y2="140.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="1274" y="131.7451">CREDITCHECK</text><!--MD5=[0e3e0a9dbd59f70ce7648b15490b889f]
link *start*GIVING to BROKE--><path d="M802.3272,93.75 C813.4312,93.75 831.774,93.75 848.6888,93.75 " fill="none" id="*start*GIVING-&gt;BROKE" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="853.8828,93.75,844.8828,89.75,848.8828,93.75,844.8828,97.75,853.8828,93.75" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[c89a6c52353ecfaac6c0a5d8eaf08ddf]
link BROKE to GENEROUS--><path d="M888.5,118.9078 C888.5,128.1742 888.5,138.7683 888.5,148.4418 " fill="none" id="BROKE-&gt;GENEROUS" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="888.5,153.7069,892.5,144.7069,888.5,148.7069,884.5,144.7069,888.5,153.7069" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="212" x="771" y="140.8169">RecvPAY [ check_pay ] / recv_pay</text><!--MD5=[915e027c9ee3a2ba77a21eb8513e9c16]
link GENEROUS to CREDITCHECK--><path d="M938.0203,164.3349 C944.0393,162.9421 950.1332,161.6977 956,160.75 C1060.8951,143.8052 1184.5041,139.5856 1258.4414,138.7129 " fill="none" id="GENEROUS-&gt;CREDITCHECK" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1263.6781,138.6557,1254.6349,134.7544,1258.6784,138.7104,1254.7224,142.7539,1263.6781,138.6557" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="957" y="135.8169">SendDAT / (send_msg,process(CreditCheck))</text><!--MD5=[33edc71a33415286f6208ebaa58b329f]
link CREDITCHECK to GENEROUS--><path d="M1287.5266,163.8085 C1274.9388,171.078 1260.376,178.0499 1246,181.75 C1141.5135,208.6429 1014.093,197.6312 943.0585,187.7912 " fill="none" id="CREDITCHECK-&gt;GENEROUS" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="938.0426,187.0853,946.3973,192.3006,942.9938,187.7822,947.5123,184.3787,938.0426,187.0853" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="1014.5" y="177.8169">CreditCheck [ have_credit ]</text><!--MD5=[c659d4d45c33f6b769c0fec3dc6fdad5]
link CREDITCHECK to BROKE--><path d="M1263.7604,122.1543 C1257.7899,120.8562 1251.7961,119.6878 1246,118.75 C1131.6687,100.2512 994.5823,95.4365 928.2859,94.1863 " fill="none" id="CREDITCHECK-&gt;BROKE" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="923.2502,94.0957,932.1767,98.2571,928.2494,94.1857,932.3207,90.2583,923.2502,94.0957" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="1012" y="91.8169">CreditCheck [ !have_credit ]</text><rect fill="#FEFECE" filter="url(#f1tvwv1z74upuz)" height="116.2969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="705" x="741.5" y="253.9531"/><rect fill="#FFFFFF" height="84" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="699" x="744.5" y="283.25"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="741.5" x2="1446.5" y1="280.25" y2="280.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="1068.5" y="271.9482">TAKING</text><ellipse cx="762.5" cy="317.8699" fill="#000000" filter="url(#f1tvwv1z74upuz)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1tvwv1z74upuz)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="122" x="809.5" y="292.8699"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="809.5" x2="931.5" y1="319.1668" y2="319.1668"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="819.5" y="310.865">WALLETCHECK</text><rect fill="#FEFECE" filter="url(#f1tvwv1z74upuz)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="1314.5" y="292.8699"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1314.5" x2="1413.5" y1="319.1668" y2="319.1668"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="1324.5" y="310.865">HANDSOUT</text><!--MD5=[2f484353c54daa831874124c87e25d25]
link *start*TAKING to WALLETCHECK--><path d="M772.8555,317.8699 C780.5703,317.8699 791.835,317.8699 803.9948,317.8699 " fill="none" id="*start*TAKING-&gt;WALLETCHECK" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="809.2533,317.8699,800.2533,313.8699,804.2533,317.8699,800.2533,321.8699,809.2533,317.8699" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[19c0a42eaad3eee2918d2c7464312f70]
link WALLETCHECK to HANDSOUT--><path d="M931.5078,317.8699 C1028.4445,317.8699 1216.1596,317.8699 1309.1111,317.8699 " fill="none" id="WALLETCHECK-&gt;HANDSOUT" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1314.2801,317.8699,1305.2801,313.8699,1309.2801,317.8699,1305.2801,321.8699,1314.2801,317.8699" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="1010.5" y="313.9368">SendPAY [ have_credit ] / flush_pay</text><!--MD5=[17f73eacdc77bea7ac94125295dc8430]
link HANDSOUT to WALLETCHECK--><path d="M1314.2636,335.1791 C1308.3372,336.6934 1302.3241,337.9848 1296.5,338.8699 C1144.0282,362.04 1102.4227,358.8481 949.5,338.8699 C945.3532,338.3281 941.1142,337.6328 936.8593,336.8265 " fill="none" id="HANDSOUT-&gt;WALLETCHECK" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="931.8616,335.8315,939.9073,341.5118,936.7654,336.8078,941.4694,333.6658,931.8616,335.8315" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="345" x="950.5" y="334.9368">RecvDAT [ check_dat ] / (recv_dat, process(SendPAY))</text><!--MD5=[60064ffd66f60c3755d7f4cc10742ab1]
link *start to CTOR--><path d="M48.5,56.9809 C48.5,68.27 48.5,87.1582 48.5,103.398 " fill="none" id="*start-&gt;CTOR" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="48.5,108.7891,52.5,99.7891,48.5,103.7891,44.5,99.7891,48.5,108.7891" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="7" y="87.52">construct</text><!--MD5=[1d2f793f0fbda3a9de05025a85af21a2]
link CTOR to IDLE--><path d="M48.5,159.1667 C48.5,168.9745 48.5,178.7822 48.5,188.5899 " fill="none" id="CTOR-&gt;IDLE" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="48.5,193.7187,52.5,184.7187,48.5,188.7187,44.5,184.7187,48.5,193.7187" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[b15fc15c12522dc336d617ea13c4fa0d]
link IDLE to BOTSEND--><path d="M73.658,213.4196 C103.9578,206.7552 155.5761,195.4018 194.0682,186.9355 " fill="none" id="IDLE-&gt;BOTSEND" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="199.1704,185.8133,189.5212,183.8402,194.2871,186.8875,191.2398,191.6534,199.1704,185.8133" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="109.5" y="190.02">SendBOT</text><!--MD5=[7d9dd3e83bd1fb9406e825ef6b4270b9]
link IDLE to BOTRECV--><path d="M73.7217,230.663 C84.269,235.1302 96.7791,239.8816 108.5,242.9531 C136.5851,250.3128 168.7734,254.7491 194.7287,257.3753 " fill="none" id="IDLE-&gt;BOTRECV" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="199.8336,257.8767,191.2678,253.0159,194.8576,257.3879,190.4856,260.9776,199.8336,257.8767" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="111" y="239.02">RecvBOT</text><!--MD5=[8da5fa9e3b2e02eb53551d7fa78089e2]
link BOTSEND to READY--><path d="M288.7717,185.6031 C323.4488,193.0774 371.0174,203.3303 404.2241,210.4876 " fill="none" id="BOTSEND-&gt;READY" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="409.4261,211.6089,401.471,205.8023,404.5384,210.5553,399.7853,213.6227,409.4261,211.6089" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="321" y="189.02">RecvBOT</text><!--MD5=[c61926f3d5789fc45521ef3641b6750f]
link BOTRECV to READY--><path d="M288.1062,257.6417 C314.8346,255.0079 349.4591,250.4774 379.5,242.9531 C387.6981,240.8997 396.288,238.1314 404.4172,235.2048 " fill="none" id="BOTRECV-&gt;READY" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="409.4117,233.3671,399.5841,232.721,404.7193,235.0937,402.3466,240.2289,409.4117,233.3671" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="319.5" y="239.02">SendBOT</text><!--MD5=[c973df42bdfbfc7b8651be2d0df5dc23]
link READY to GIVING--><path d="M477.5549,209.6939 C487.1879,207.2783 497.7141,204.8294 507.5,202.9531 C586.7361,187.7608 672.5463,174.4556 753.442,163.3092 " fill="none" id="READY-&gt;GIVING" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="758.7633,162.5782,749.3026,159.8405,753.8098,163.2588,750.3915,167.766,758.7633,162.5782" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="547" y="167.02">BeginFlow [is_giver]</text><!--MD5=[dd9dfb771c6a8ba7be7e8f6a3c97b0e1]
link READY to TAKING--><path d="M477.5578,223.8222 C528.5095,231.1067 630.0004,245.6165 736.1686,260.795 " fill="none" id="READY-&gt;TAKING" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="741.2276,261.5183,732.8844,256.2847,736.2779,260.8106,731.752,264.2042,741.2276,261.5183" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="202" x="508.5" y="224.02">BeginFlow [!is_giver] / flush_pay</text><!--MD5=[4efb5af068be7455f75a3e6111974591]
link GIVING to FINACK--><path d="M1429.2363,152.2833 C1465.4839,156.16 1501.7907,160.3922 1536.5,164.9531 C1544.5212,166.0071 1553.0714,167.326 1561.2354,168.6808 " fill="none" id="GIVING-&gt;FINACK" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1566.2606,169.527,1558.0498,164.088,1561.33,168.6967,1556.7213,171.977,1566.2606,169.527" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="1479" y="154.02">RecvEOT</text><!--MD5=[971146916d5f804dca8fed70e37af703]
link GIVING to ACKFIN--><path d="M1429.0139,187.1502 C1465.788,197.5452 1502.2718,209.4304 1536.5,222.9531 C1544.9651,226.2975 1553.6257,230.6558 1561.7412,235.223 " fill="none" id="GIVING-&gt;ACKFIN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1566.1891,237.7768,1560.3757,229.8267,1561.853,235.2873,1556.3924,236.7645,1566.1891,237.7768" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="1477.5" y="199.02">SendEOT</text><!--MD5=[83cd54b068e1fce3552988c97f60bcfd]
link TAKING to FINACK--><path d="M1446.6279,279.8077 C1477.9111,270.4447 1508.3517,258.6842 1536.5,243.9531 C1545.9362,239.0148 1562.5875,221.3462 1576.6076,205.2579 " fill="none" id="TAKING-&gt;FINACK" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1580.1093,201.2104,1571.1958,205.3996,1576.8379,204.9917,1577.2458,210.6338,1580.1093,201.2104" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="1479" y="240.02">RecvEOT</text><!--MD5=[817bbdbd64a8bfc9b75b2c0a75f085da]
link TAKING to ACKFIN--><path d="M1446.791,322.5716 C1477.4836,318.1561 1507.7686,311.8019 1536.5,302.9531 C1546.5969,299.8434 1556.6092,294.6485 1565.6262,288.953 " fill="none" id="TAKING-&gt;ACKFIN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1569.9688,286.1238,1560.2445,287.6852,1565.7795,288.8532,1564.6115,294.3882,1569.9688,286.1238" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="1477.5" y="299.02">SendEOT</text><!--MD5=[965d3267340491b6ca6161b2bc98e793]
link FINACK to FIN--><path d="M1635.6094,184.2439 C1668.8752,192.2129 1718.6418,204.1347 1750.332,211.7262 " fill="none" id="FINACK-&gt;FIN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1755.2576,212.9062,1747.4373,206.9193,1750.3952,211.7412,1745.5733,214.6992,1755.2576,212.9062" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="1666.5" y="189.02">SendEOT</text><!--MD5=[ce5da5611bd241d3c0411193df008fc3]
link ACKFIN to FIN--><path d="M1635.6021,258.4527 C1660.8777,256.0259 1695.7798,251.4195 1725.5,242.9531 C1733.7974,240.5894 1742.482,237.2435 1750.435,233.7982 " fill="none" id="ACKFIN-&gt;FIN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1755.2823,231.6481,1745.4334,231.641,1750.7118,233.6755,1748.6773,238.9539,1755.2823,231.6481" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="1668" y="239.02">RecvEOT</text><!--MD5=[1a5ee0821a8fda538661e9fe545af5d8]
@startuml
left to right direction
title ZIO data flow states
[*] -> CTOR : construct
CTOR -> IDLE
IDLE - -> BOTSEND : SendBOT
IDLE - -> BOTRECV : RecvBOT
BOTSEND - -> READY : RecvBOT
BOTRECV - -> READY : SendBOT

READY - -> GIVING : BeginFlow [is_giver]
READY - -> TAKING : BeginFlow [!is_giver] / flush_pay

state GIVING {
        [*] - -> BROKE
        BROKE -> GENEROUS : RecvPAY [ check_pay ] / recv_pay
        GENEROUS -> CREDITCHECK : SendDAT / (send_msg,process(CreditCheck))
        CREDITCHECK - -> GENEROUS : CreditCheck [ have_credit ]
        CREDITCHECK - -> BROKE : CreditCheck [ !have_credit ]
}

GIVING - -> FINACK : RecvEOT
GIVING - -> ACKFIN : SendEOT

state TAKING {
        [*] - -> WALLETCHECK
        WALLETCHECK -> HANDSOUT : SendPAY [ have_credit ] / flush_pay
        HANDSOUT - -> WALLETCHECK : RecvDAT [ check_dat ] / (recv_dat, process(SendPAY))
}

TAKING - -> FINACK : RecvEOT
TAKING - -> ACKFIN : SendEOT

FINACK - -> FIN : SendEOT
ACKFIN - -> FIN : RecvEOT

@enduml

PlantUML version 1.2020.01(Sun Feb 16 12:40:32 EST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_242-8u242-b08-0ubuntu3~18.04-b08
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>