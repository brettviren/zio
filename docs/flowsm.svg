<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1110px" preserveAspectRatio="none" style="width:1250px;height:1110px;" version="1.1" viewBox="0 0 1250 1110" width="1250px" zoomAndPan="magnify"><defs><filter height="300%" id="f1lobarn09f9cj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="616.5" cy="18" fill="#000000" filter="url(#f1lobarn09f9cj)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1lobarn09f9cj)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="60" x="586.5" y="89"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="586.5" x2="646.5" y1="115.2969" y2="115.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="596.5" y="106.9951">CTOR</text><rect fill="#FEFECE" filter="url(#f1lobarn09f9cj)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="591.5" y="200"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="591.5" x2="641.5" y1="226.2969" y2="226.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="601.5" y="217.9951">IDLE</text><rect fill="#FEFECE" filter="url(#f1lobarn09f9cj)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="428" y="327"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="428" x2="517" y1="353.2969" y2="353.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="438" y="344.9951">BOTSEND</text><rect fill="#FEFECE" filter="url(#f1lobarn09f9cj)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="718.5" y="327"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="718.5" x2="806.5" y1="353.2969" y2="353.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="728.5" y="344.9951">BOTRECV</text><rect fill="#FEFECE" filter="url(#f1lobarn09f9cj)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="586.5" y="454"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="586.5" x2="654.5" y1="480.2969" y2="480.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="596.5" y="471.9951">READY</text><rect fill="#FEFECE" filter="url(#f1lobarn09f9cj)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="448" y="922"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="448" x2="517" y1="948.2969" y2="948.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="458" y="939.9951">FINACK</text><rect fill="#FEFECE" filter="url(#f1lobarn09f9cj)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="595.5" y="1049"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="595.5" x2="645.5" y1="1075.2969" y2="1075.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="610" y="1066.9951">FIN</text><rect fill="#FEFECE" filter="url(#f1lobarn09f9cj)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="725" y="922"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="725" x2="794" y1="948.2969" y2="948.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="735" y="939.9951">ACKFIN</text><rect fill="#FEFECE" filter="url(#f1lobarn09f9cj)" height="264.2969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="597" x="6" y="581"/><rect fill="#FFFFFF" height="232" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="591" x="9" y="610.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="6" x2="603" y1="607.2969" y2="607.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="257" y="598.9951">flowsm_giving</text><ellipse cx="135.99" cy="630.2969" fill="#000000" filter="url(#f1lobarn09f9cj)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1lobarn09f9cj)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="101.49" y="677.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="101.49" x2="170.49" y1="703.5938" y2="703.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="111.49" y="695.292">BROKE</text><rect fill="#FEFECE" filter="url(#f1lobarn09f9cj)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="86.49" y="780.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="86.49" x2="185.49" y1="806.5938" y2="806.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="96.49" y="798.292">GENEROUS</text><!--MD5=[de7df578c6bf00e52b5ebb30f85bd19e]
link *start*flowsm_giving to BROKE--><path d="M135.99,640.4469 C135.99,648.4869 135.99,660.6269 135.99,671.9469 " fill="none" id="*start*flowsm_giving-&gt;BROKE" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="135.99,677.0769,139.99,668.0769,135.99,672.0769,131.99,668.0769,135.99,677.0769" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[c89a6c52353ecfaac6c0a5d8eaf08ddf]
link BROKE to GENEROUS--><path d="M101.23,705.8269 C74.68,709.7869 39.73,719.8669 21.99,745.2969 C3.27,772.1469 43.57,787.6169 81.33,795.9169 " fill="none" id="BROKE-&gt;GENEROUS" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="86.39,796.9869,78.4198,791.201,81.4995,795.946,76.7545,799.0258,86.39,796.9869" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="22.99" y="758.3638">RecvMsg [check_pay] / recv_pay</text><!--MD5=[0e2a4ee9d5ce5db19be8371c79a2cb19]
link GENEROUS to BROKE--><path d="M185.76,792.7769 C215.39,783.3469 244.62,767.8469 229.99,745.2969 C217.98,726.7669 195.67,716.3469 175.8,710.5169 " fill="none" id="GENEROUS-&gt;BROKE" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="170.81,709.1269,178.4092,715.3921,175.6272,710.4666,180.5527,707.6846,170.81,709.1269" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="335" x="233.99" y="758.3638">SendMsg [check_one_credit, check_dat] / send_msg</text><!--MD5=[fd7ee730fe36cbb93f3703a5ab21ea12]
link GENEROUS to GENEROUS--><path d="M185.74,796.2469 C196.06,797.2069 203.49,800.2169 203.49,805.2969 C203.49,809.5069 198.4,812.2969 190.78,813.6669 " fill="none" id="GENEROUS-&gt;GENEROUS" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="185.74,814.3469,195.1876,817.1294,190.6966,813.6898,194.1363,809.1988,185.74,814.3469" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="347" x="209.49" y="802.3638">SendMsg [check_many_credit, check_dat] / send_msg</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="279.99" y="817.4966">RecvMsg [check_pay] / recv_pay</text><rect fill="#FEFECE" filter="url(#f1lobarn09f9cj)" height="264.2969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="600" x="638.5" y="581"/><rect fill="#FFFFFF" height="232" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="594" x="641.5" y="610.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="638.5" x2="1238.5" y1="607.2969" y2="607.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="890" y="598.9951">flowsm_taking</text><ellipse cx="773.73" cy="630.2969" fill="#000000" filter="url(#f1lobarn09f9cj)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1lobarn09f9cj)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="747.23" y="677.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="747.23" x2="800.23" y1="703.5938" y2="703.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="757.23" y="695.292">RICH</text><rect fill="#FEFECE" filter="url(#f1lobarn09f9cj)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="724.23" y="780.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="724.23" x2="823.23" y1="806.5938" y2="806.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="734.23" y="798.292">HANDSOUT</text><!--MD5=[6ac15724c9f37c6f3576424a2d6073b4]
link *start*flowsm_taking to RICH--><path d="M773.73,640.4469 C773.73,648.4869 773.73,660.6269 773.73,671.9469 " fill="none" id="*start*flowsm_taking-&gt;RICH" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="773.73,677.0769,777.73,668.0769,773.73,672.0769,769.73,668.0769,773.73,677.0769" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[ad97076ba885a53e561bea0b878c3b9a]
link RICH to HANDSOUT--><path d="M747.23,704.2569 C719.01,706.8669 675.61,715.7869 654.73,745.2969 C634.85,773.3969 678.63,788.7869 718.58,796.7369 " fill="none" id="RICH-&gt;HANDSOUT" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="723.93,797.7669,715.8449,792.1427,719.0196,796.8248,714.3375,799.9994,723.93,797.7669" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="655.73" y="758.3638">FlushPay [have_credit] / flush_pay</text><!--MD5=[0ca11b8e07ece1a3428ac826cdb7c6b1]
link HANDSOUT to RICH--><path d="M823.47,793.9969 C855.56,784.8769 888.58,769.2369 872.73,745.2969 C857.88,722.8669 828.38,712.3769 805.43,707.4969 " fill="none" id="HANDSOUT-&gt;RICH" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="800.34,706.4869,808.3744,712.1833,805.2418,707.473,809.9521,704.3404,800.34,706.4869" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="327" x="877.73" y="758.3638">RecvMsg [check_last_credit, check_dat] / recv_msg</text><!--MD5=[eea753876672ce3265d9db6350895f1b]
link HANDSOUT to HANDSOUT--><path d="M823.48,796.2469 C833.81,797.2069 841.23,800.2169 841.23,805.2969 C841.23,809.5069 836.14,812.2969 828.52,813.6669 " fill="none" id="HANDSOUT-&gt;HANDSOUT" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="823.48,814.3469,832.9276,817.1294,828.4366,813.6898,831.8763,809.1988,823.48,814.3469" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="332" x="847.23" y="802.3638">RecvMsg [!check_last_credit, check_dat] / recv_msg</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="905.23" y="817.4966">FlushPay [have_credit] / flush_pay</text><!--MD5=[60064ffd66f60c3755d7f4cc10742ab1]
link *start to CTOR--><path d="M616.5,28.01 C616.5,40.7 616.5,64.41 616.5,83.57 " fill="none" id="*start-&gt;CTOR" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="616.5,88.84,620.5,79.84,616.5,83.84,612.5,79.84,616.5,88.84" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[1d2f793f0fbda3a9de05025a85af21a2]
link CTOR to IDLE--><path d="M616.5,139.19 C616.5,155.56 616.5,177.28 616.5,194.64 " fill="none" id="CTOR-&gt;IDLE" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="616.5,199.88,620.5,190.88,616.5,194.88,612.5,190.88,616.5,199.88" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[b15fc15c12522dc336d617ea13c4fa0d]
link IDLE to BOTSEND--><path d="M591.23,226.68 C556.24,229.15 494.12,239.37 465.5,280 C457.05,291.99 457.92,308.09 461.29,321.92 " fill="none" id="IDLE-&gt;BOTSEND" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="462.63,326.91,464.1527,317.1796,461.3301,322.0819,456.4278,319.2594,462.63,326.91" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="466.5" y="293.0669">SendMsg [check_send_bot] / send_msg</text><!--MD5=[7d9dd3e83bd1fb9406e825ef6b4270b9]
link IDLE to BOTRECV--><path d="M641.71,233.42 C665.73,241.55 701.67,256.65 725.5,280 C737.45,291.71 746.35,308.11 752.41,322.2 " fill="none" id="IDLE-&gt;BOTRECV" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="754.36,326.88,754.6059,317.0342,752.444,322.2617,747.2166,320.0998,754.36,326.88" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="236" x="740.5" y="293.0669">RecvMsg [check_recv_bot] / recv_bot</text><!--MD5=[8da5fa9e3b2e02eb53551d7fa78089e2]
link BOTSEND to READY--><path d="M467.65,377.26 C466.07,392.13 466.77,410.77 476.5,424 C500.68,456.87 547.31,469.74 580.96,474.77 " fill="none" id="BOTSEND-&gt;READY" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="586.25,475.52,577.8998,470.2975,581.2994,474.8189,576.778,478.2185,586.25,475.52" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="236" x="477.5" y="420.0669">RecvMsg [check_recv_bot] / recv_bot</text><!--MD5=[c61926f3d5789fc45521ef3641b6750f]
link BOTRECV to READY--><path d="M753.01,377.33 C746.25,392.22 735.98,410.87 722.5,424 C704.62,441.42 679.99,454.67 659.41,463.69 " fill="none" id="BOTRECV-&gt;READY" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="654.81,465.66,664.658,465.7913,659.4057,463.6904,661.5066,458.4381,654.81,465.66" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="736.5" y="420.0669">SendMsg [check_send_bot] / send_msg</text><!--MD5=[cda221d969a7724aaa9605251988ec20]
link FINACK to FINACK--><path d="M517.19,935.82 C535.45,934.01 552,937.74 552,947 C552,955.4 538.41,959.24 522.27,958.54 " fill="none" id="FINACK-&gt;FINACK" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="517.19,958.18,525.8812,962.8128,522.1772,958.5373,526.4528,954.8333,517.19,958.18" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="558" y="944.0669">SendMsg [!check_eot]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="559.5" y="959.1997">RecvMsg [!check_eot]</text><!--MD5=[965d3267340491b6ca6161b2bc98e793]
link FINACK to FIN--><path d="M480.62,972.02 C480.7,986.97 483.24,1005.81 493.5,1019 C517.07,1049.3 560.89,1062.82 590.37,1068.7 " fill="none" id="FINACK-&gt;FIN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="595.34,1069.65,587.2549,1064.0258,590.4296,1068.7079,585.7475,1071.8825,595.34,1069.65" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="494.5" y="1015.0669">SendMsg [check_eot] / send_msg</text><!--MD5=[74956b5a9e82f8ce8ce66af2439d91ee]
link ACKFIN to ACKFIN--><path d="M794.19,935.82 C812.45,934.01 829,937.74 829,947 C829,955.4 815.41,959.24 799.27,958.54 " fill="none" id="ACKFIN-&gt;ACKFIN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="794.19,958.18,802.8812,962.8128,799.1772,958.5373,803.4528,954.8333,794.19,958.18" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="835" y="944.0669">SendMsg [!check_eot]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="836.5" y="959.1997">RecvMsg [!check_eot]</text><!--MD5=[ce5da5611bd241d3c0411193df008fc3]
link ACKFIN to FIN--><path d="M748.41,972.16 C740.73,986.98 729.39,1005.62 715.5,1019 C696.65,1037.15 670.53,1051.42 650.45,1060.72 " fill="none" id="ACKFIN-&gt;FIN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="645.74,1062.86,655.5884,1062.7656,650.2894,1060.7856,652.2694,1055.4866,645.74,1062.86" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="730.5" y="1015.0669">RecvMsg [check_eot] / recv_msg</text><!--MD5=[c58a98e4673636b0d61ce72e2bb61d51]
link READY to flowsm_giving--><path d="M587.58,504.17 C562.56,522.54 525.97,549.4 487.35,577.75 " fill="none" id="READY-&gt;flowsm_giving" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="483.12,580.86,492.7421,578.7589,487.1507,577.9013,488.0082,572.3099,483.12,580.86" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="545.5" y="547.0669">BeginFlow [is_giver]</text><!--MD5=[a50e3dda0e4741a5a320afa7373b7d94]
link READY to flowsm_taking--><path d="M653.63,504.17 C678.8,522.54 715.62,549.4 754.49,577.75 " fill="none" id="READY-&gt;flowsm_taking" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="758.75,580.86,753.8276,572.3294,754.7076,577.9174,749.1196,578.7974,758.75,580.86" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="715.5" y="547.0669">BeginFlow [is_taker]</text><!--MD5=[92091da03e97bd1ac07168c7f518101b]
link flowsm_giving to ACKFIN--><path d="M419.62,845.19 C441.15,863.42 464.73,879.99 489.5,892 C577.5,934.67 613.63,894.54 707.5,922 C711.62,923.2 715.82,924.68 719.97,926.31 " fill="none" id="flowsm_giving-&gt;ACKFIN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="724.8,928.28,717.9744,921.18,720.1695,926.3935,714.956,928.5887,724.8,928.28" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="490.5" y="888.0669">SendMsg [check_eot] / send_msg</text><!--MD5=[278f257b02eb8574e0db7f9f118b90f6]
link flowsm_giving to FINACK--><path d="M225.3,845.2 C223.79,861.88 227.25,877.99 238.5,892 C263.66,923.34 380.23,937.6 442.7,943.09 " fill="none" id="flowsm_giving-&gt;FINACK" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="447.84,943.53,439.2156,938.7739,442.8584,943.1018,438.5305,946.7445,447.84,943.53" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="239.5" y="888.0669">RecvMsg [check_eot] / recv_msg</text><!--MD5=[919bf70b1a72a52edcc08a0cfc55f515]
link flowsm_taking to ACKFIN--><path d="M979.02,845.28 C977.89,862.14 973.05,878.28 962.5,892 C942.74,917.7 852.54,933.74 799.25,941.15 " fill="none" id="flowsm_taking-&gt;ACKFIN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="794.22,941.84,803.6832,944.5691,799.1728,941.1549,802.587,936.6445,794.22,941.84" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="972.5" y="888.0669">SendMsg [check_eot] / send_msg</text><!--MD5=[cd39e256c003061a163087510bbe89ef]
link flowsm_taking to FINACK--><path d="M789.74,845.02 C764.76,862.7 738.24,879.14 711.5,892 C649.17,921.98 569.1,935.92 522.04,941.93 " fill="none" id="flowsm_taking-&gt;FINACK" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="517.03,942.56,526.4536,945.4228,521.992,941.9451,525.4698,937.4836,517.03,942.56" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="740.5" y="888.0669">RecvMsg [check_eot] / recv_msg</text><!--MD5=[118e828acf81236788193e2228dd3e79]
@startuml

[*] - -> CTOR
CTOR - -> IDLE
IDLE - -> BOTSEND : SendMsg [check_send_bot] / send_msg
IDLE - -> BOTRECV : RecvMsg [check_recv_bot] / recv_bot
BOTSEND - -> READY : RecvMsg [check_recv_bot] / recv_bot
BOTRECV - -> READY : SendMsg [check_send_bot] / send_msg

FINACK - -> FINACK : SendMsg [!check_eot]\nRecvMsg [!check_eot]
FINACK - -> FIN : SendMsg [check_eot] / send_msg

ACKFIN - -> ACKFIN : SendMsg [!check_eot]\nRecvMsg [!check_eot]
ACKFIN - -> FIN : RecvMsg [check_eot] / recv_msg


READY - -> flowsm_giving : BeginFlow [is_giver]
READY - -> flowsm_taking : BeginFlow [is_taker]


state flowsm_giving {
[*] - -> BROKE
BROKE - -> GENEROUS : RecvMsg [check_pay] / recv_pay
GENEROUS - -> BROKE : SendMsg [check_one_credit, check_dat] / send_msg
GENEROUS - -> GENEROUS : SendMsg [check_many_credit, check_dat] / send_msg\nRecvMsg [check_pay] / recv_pay
}

state flowsm_taking {
[*] - -> RICH
RICH - -> HANDSOUT : FlushPay [have_credit] / flush_pay
HANDSOUT - -> RICH : RecvMsg [check_last_credit, check_dat] / recv_msg
HANDSOUT - -> HANDSOUT : RecvMsg [!check_last_credit, check_dat] / recv_msg\nFlushPay [have_credit] / flush_pay
}

flowsm_giving - -> ACKFIN : SendMsg [check_eot] / send_msg
flowsm_giving - -> FINACK : RecvMsg [check_eot] / recv_msg
flowsm_taking - -> ACKFIN : SendMsg [check_eot] / send_msg
flowsm_taking - -> FINACK : RecvMsg [check_eot] / recv_msg

@enduml

PlantUML version 1.2019.13(Tue Dec 10 12:18:29 EST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+10-post-Debian-2
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>