<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1197px" preserveAspectRatio="none" style="width:1742px;height:1197px;" version="1.1" viewBox="0 0 1742 1197" width="1742px" zoomAndPan="magnify"><defs><filter height="300%" id="f6rmngvpuqc87" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="864" cy="18" fill="#000000" filter="url(#f6rmngvpuqc87)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6rmngvpuqc87)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="60" x="834" y="89"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="834" x2="894" y1="115.2969" y2="115.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="844" y="106.9951">CTOR</text><rect fill="#FEFECE" filter="url(#f6rmngvpuqc87)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="839" y="200"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="839" x2="889" y1="226.2969" y2="226.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="849" y="217.9951">IDLE</text><rect fill="#FEFECE" filter="url(#f6rmngvpuqc87)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="675.5" y="327"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="675.5" x2="764.5" y1="353.2969" y2="353.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="685.5" y="344.9951">BOTSEND</text><rect fill="#FEFECE" filter="url(#f6rmngvpuqc87)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="966" y="327"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="966" x2="1054" y1="353.2969" y2="353.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="976" y="344.9951">BOTRECV</text><rect fill="#FEFECE" filter="url(#f6rmngvpuqc87)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="610.5" y="1009"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="610.5" x2="679.5" y1="1035.2969" y2="1035.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="620.5" y="1026.9951">ACKFIN</text><rect fill="#FEFECE" filter="url(#f6rmngvpuqc87)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="1057.5" y="1009"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1057.5" x2="1126.5" y1="1035.2969" y2="1035.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="1067.5" y="1026.9951">FINACK</text><rect fill="#FEFECE" filter="url(#f6rmngvpuqc87)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="843" y="1136"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="843" x2="893" y1="1162.2969" y2="1162.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="857.5" y="1153.9951">FIN</text><rect fill="#FEFECE" filter="url(#f6rmngvpuqc87)" height="478.2969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="1724" x="6" y="454"/><rect fill="#FFFFFF" height="446" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="1718" x="9" y="483.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="6" x2="1730" y1="480.2969" y2="480.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="816.5" y="471.9951">flowsm_flowing</text><ellipse cx="853.5" cy="503.2969" fill="#000000" filter="url(#f6rmngvpuqc87)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6rmngvpuqc87)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="819.5" y="550.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="819.5" x2="887.5" y1="576.5938" y2="576.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="829.5" y="568.292">READY</text><rect fill="#FEFECE" filter="url(#f6rmngvpuqc87)" height="264.2969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="825" x="17" y="653.2969"/><rect fill="#FFFFFF" height="232" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="819" x="20" y="682.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="17" x2="842" y1="679.5938" y2="679.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="382" y="671.292">flowsm_giving</text><ellipse cx="146.9762" cy="702.5938" fill="#000000" filter="url(#f6rmngvpuqc87)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6rmngvpuqc87)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="112.4762" y="749.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="112.4762" x2="181.4762" y1="775.8906" y2="775.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="122.4762" y="767.5889">BROKE</text><rect fill="#FEFECE" filter="url(#f6rmngvpuqc87)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="97.4762" y="852.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="97.4762" x2="196.4762" y1="878.8906" y2="878.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="107.4762" y="870.5889">GENEROUS</text><!--MD5=[de7df578c6bf00e52b5ebb30f85bd19e]
link *start*flowsm_giving to BROKE--><path d="M146.9762,712.6051 C146.9762,720.8481 146.9762,732.9835 146.9762,744.3367 " fill="none" id="*start*flowsm_giving-&gt;BROKE" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="146.9762,749.4812,150.9762,740.4812,146.9762,744.4812,142.9762,740.4812,146.9762,749.4812" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[c89a6c52353ecfaac6c0a5d8eaf08ddf]
link BROKE to GENEROUS--><path d="M112.3879,783.0176 C82.3828,791.108 42.331,804.0672 32.9762,817.5938 C14.2876,844.6169 54.5877,860.3837 92.3299,868.9144 " fill="none" id="BROKE-&gt;GENEROUS" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="97.3925,870.02,89.4532,864.1917,92.5076,868.9531,87.7463,872.0075,97.3925,870.02" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="33.9762" y="830.6606">RecvMsg [check_pay] / recv_pay</text><!--MD5=[0e2a4ee9d5ce5db19be8371c79a2cb19]
link GENEROUS to BROKE--><path d="M196.7267,865.7448 C226.3471,856.0936 255.5707,840.319 240.9762,817.5938 C228.9968,798.9405 206.6908,788.2767 186.8136,782.2354 " fill="none" id="GENEROUS-&gt;BROKE" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="181.8202,780.797,189.3612,787.132,186.6248,782.1811,191.5758,779.4447,181.8202,780.797" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="335" x="244.9762" y="830.6606">SendMsg [check_one_credit, check_dat] / send_msg</text><!--MD5=[fd7ee730fe36cbb93f3703a5ab21ea12]
link GENEROUS to GENEROUS--><path d="M196.7216,873.0711 C207.0495,873.5472 214.4762,875.0547 214.4762,877.5938 C214.4762,879.6965 209.383,881.0917 201.7668,881.7796 " fill="none" id="GENEROUS-&gt;GENEROUS" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="196.7216,882.1165,205.9682,885.5076,201.7105,881.7832,205.435,877.5254,196.7216,882.1165" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="347" x="220.4762" y="882.1606">SendMsg [check_many_credit, check_dat] / send_msg</text><!--MD5=[fd7ee730fe36cbb93f3703a5ab21ea12]
link GENEROUS to GENEROUS--><path d="M196.5092,871.9038 C310.1021,865.5287 573.4762,867.4253 573.4762,877.5938 C573.4762,887.6133 317.7616,889.6016 201.5962,883.5586 " fill="none" id="GENEROUS-&gt;GENEROUS-1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="196.5092,883.2838,205.2802,887.7636,201.5019,883.5536,205.712,879.7753,196.5092,883.2838" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="579.4762" y="882.1606">RecvMsg [check_pay] / recv_pay</text><rect fill="#FEFECE" filter="url(#f6rmngvpuqc87)" height="264.2969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="836" x="860.5" y="653.2969"/><rect fill="#FFFFFF" height="232" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="830" x="863.5" y="682.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="860.5" x2="1696.5" y1="679.5938" y2="679.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="1230" y="671.292">flowsm_taking</text><ellipse cx="995.7161" cy="702.5938" fill="#000000" filter="url(#f6rmngvpuqc87)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6rmngvpuqc87)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="969.2161" y="749.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="969.2161" x2="1022.2161" y1="775.8906" y2="775.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="979.2161" y="767.5889">RICH</text><rect fill="#FEFECE" filter="url(#f6rmngvpuqc87)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="946.2161" y="852.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="946.2161" x2="1045.2161" y1="878.8906" y2="878.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="956.2161" y="870.5889">HANDSOUT</text><!--MD5=[6ac15724c9f37c6f3576424a2d6073b4]
link *start*flowsm_taking to RICH--><path d="M995.7161,712.6051 C995.7161,720.8481 995.7161,732.9835 995.7161,744.3367 " fill="none" id="*start*flowsm_taking-&gt;RICH" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="995.7161,749.4812,999.7161,740.4812,995.7161,744.4812,991.7161,740.4812,995.7161,749.4812" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[ad97076ba885a53e561bea0b878c3b9a]
link RICH to HANDSOUT--><path d="M969.1931,780.4501 C937.5574,788.0356 887.5699,802.1312 876.7161,817.5938 C856.8701,845.8669 900.6454,861.5695 940.5851,869.7475 " fill="none" id="RICH-&gt;HANDSOUT" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="945.9355,870.804,937.881,865.1361,941.0302,869.8352,936.3311,872.9845,945.9355,870.804" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="877.7161" y="830.6606">FlushPay [have_credit] / flush_pay</text><!--MD5=[0ca11b8e07ece1a3428ac826cdb7c6b1]
link HANDSOUT to RICH--><path d="M1045.4329,866.9879 C1077.5112,857.6419 1110.5337,841.7093 1094.7161,817.5938 C1079.9062,795.0146 1050.4007,784.2303 1027.4365,779.1165 " fill="none" id="HANDSOUT-&gt;RICH" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1022.3475,778.0509,1030.3365,783.8107,1027.2413,779.0757,1031.9763,775.9805,1022.3475,778.0509" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="337" x="1099.7161" y="830.6606">RecvMsg [penultimate_credit, check_dat] / recv_msg</text><!--MD5=[eea753876672ce3265d9db6350895f1b]
link HANDSOUT to HANDSOUT--><path d="M1045.4615,873.0711 C1055.7893,873.5472 1063.2161,875.0547 1063.2161,877.5938 C1063.2161,879.6965 1058.1229,881.0917 1050.5067,881.7796 " fill="none" id="HANDSOUT-&gt;HANDSOUT" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1045.4615,882.1165,1054.7081,885.5076,1050.4504,881.7832,1054.1749,877.5254,1045.4615,882.1165" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="342" x="1069.2161" y="882.1606">RecvMsg [!penultimate_credit, check_dat] / recv_msg</text><!--MD5=[eea753876672ce3265d9db6350895f1b]
link HANDSOUT to HANDSOUT--><path d="M1045.604,871.8581 C1158.3979,865.5378 1417.2161,867.4498 1417.2161,877.5938 C1417.2161,887.5892 1165.925,889.592 1050.6535,883.602 " fill="none" id="HANDSOUT-&gt;HANDSOUT-1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1045.604,883.3295,1054.3754,887.8086,1050.5967,883.5989,1054.8065,879.8202,1045.604,883.3295" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="1423.2161" y="882.1606">FlushPay [have_credit] / flush_pay</text><!--MD5=[0a36d2e563ea12a65b5909447e7c23e2]
link *start*flowsm_flowing to READY--><path d="M853.5,513.3082 C853.5,521.5512 853.5,533.6866 853.5,545.0398 " fill="none" id="*start*flowsm_flowing-&gt;READY" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="853.5,550.1843,857.5,541.1843,853.5,545.1843,849.5,541.1843,853.5,550.1843" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[c58a98e4673636b0d61ce72e2bb61d51]
link READY to flowsm_giving--><path d="M819.1615,592.3042 C790.8954,606.3039 747.9041,627.5968 700.6511,651.0004 " fill="none" id="READY-&gt;flowsm_giving" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="696.0653,653.2716,705.9056,652.8613,700.5458,651.0523,702.3548,645.6925,696.0653,653.2716" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="247" x="763.5" y="631.3638">BeginFlow [lambda(auto:8, FlowApp&amp;)]</text><!--MD5=[a50e3dda0e4741a5a320afa7373b7d94]
link READY to flowsm_taking--><path d="M887.7106,581.2097 C921.2161,587.726 973.2487,599.8026 1015.5,618.2969 C1037.1256,627.7629 1059.0218,638.8553 1080.4679,650.7445 " fill="none" id="READY-&gt;flowsm_taking" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1085.0372,653.2933,1079.1261,645.4155,1080.6707,650.8574,1075.2288,652.402,1085.0372,653.2933" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="247" x="1046.5" y="631.3638">BeginFlow [lambda(auto:8, FlowApp&amp;)]</text><!--MD5=[60064ffd66f60c3755d7f4cc10742ab1]
link *start to CTOR--><path d="M864,28.2737 C864,41.3608 864,64.5555 864,83.5207 " fill="none" id="*start-&gt;CTOR" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="864,88.7458,868,79.7458,864,83.7458,860,79.7458,864,88.7458" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[1d2f793f0fbda3a9de05025a85af21a2]
link CTOR to IDLE--><path d="M864,139.1876 C864,155.6504 864,177.2461 864,194.6543 " fill="none" id="CTOR-&gt;IDLE" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="864,199.9121,868,190.9121,864,194.9121,860,190.9121,864,199.9121" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[b15fc15c12522dc336d617ea13c4fa0d]
link IDLE to BOTSEND--><path d="M838.6968,230.5402 C799.6763,239.6544 727.7601,258.915 713,280 C704.597,292.0038 705.3072,308.0211 708.5694,321.9003 " fill="none" id="IDLE-&gt;BOTSEND" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="709.8746,326.9056,711.4741,317.1875,708.6129,322.0674,703.733,319.2062,709.8746,326.9056" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="714" y="293.0669">SendMsg [check_send_bot] / send_msg</text><!--MD5=[7d9dd3e83bd1fb9406e825ef6b4270b9]
link IDLE to BOTRECV--><path d="M889.2413,232.6365 C913.2821,240.9857 949.2317,256.4066 973,280 C984.8288,291.7418 993.6386,308.0564 999.6879,322.1871 " fill="none" id="IDLE-&gt;BOTRECV" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1001.6339,326.8858,1001.8855,317.0402,999.7206,322.2664,994.4944,320.1014,1001.6339,326.8858" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="236" x="987" y="293.0669">RecvMsg [check_recv_bot] / recv_bot</text><!--MD5=[7b8cdd7da207c47a0f2d08f503a52333]
link BOTSEND to flowsm_flowing--><path d="M724.4943,377.0514 C727.3615,391.0769 731.5647,408.757 737,424 C739.9809,432.3597 743.1474,440.8018 746.4615,449.278 " fill="none" id="BOTSEND-&gt;flowsm_flowing" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="748.3177,453.9902,748.741,444.1504,746.4853,449.3381,741.2976,447.0823,748.3177,453.9902" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="236" x="738" y="420.0669">RecvMsg [check_recv_bot] / recv_bot</text><!--MD5=[60b556957d6882083df8924cc35895b7]
link BOTRECV to flowsm_flowing--><path d="M999.5584,377.0745 C992.2324,394.6672 981.6139,420.1666 969.5396,449.1619 " fill="none" id="BOTRECV-&gt;flowsm_flowing" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="967.5895,453.8448,974.742,447.0742,969.5117,449.229,967.3568,443.9987,967.5895,453.8448" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="988" y="420.0669">SendMsg [check_send_bot] / send_msg</text><!--MD5=[8773d5f0f41cab92da2c30dfd22e74c3]
link flowsm_flowing to ACKFIN--><path d="M711.6053,932.1507 C693.0526,960.5205 676.4907,985.8461 664.5226,1004.147 " fill="none" id="flowsm_flowing-&gt;ACKFIN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="661.5805,1008.646,669.8542,1003.3032,664.3172,1004.4614,663.1589,998.9244,661.5805,1008.646" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="689" y="975.0669">SendMsg [check_eot] / send_msg</text><!--MD5=[355f7ac639b9e681db4d82b7465bf0be]
link flowsm_flowing to FINACK--><path d="M1025.096,932.1507 C1043.7319,960.5205 1060.3681,985.8461 1072.3898,1004.147 " fill="none" id="flowsm_flowing-&gt;FINACK" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1075.3452,1008.646,1073.7471,998.9277,1072.6,1004.467,1067.0607,1003.3199,1075.3452,1008.646" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="1055" y="975.0669">RecvMsg [check_eot] / recv_msg</text><!--MD5=[cda221d969a7724aaa9605251988ec20]
link FINACK to FINACK--><path d="M1126.6869,1028.4092 C1144.9501,1027.5046 1161.5,1029.3682 1161.5,1034 C1161.5,1038.1976 1147.9077,1040.1217 1131.766,1039.7722 " fill="none" id="FINACK-&gt;FINACK" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1126.6869,1039.5908,1135.5382,1043.9099,1131.6837,1039.7695,1135.8241,1035.915,1126.6869,1039.5908" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="1167.5" y="1038.5669">SendMsg [!check_eot]</text><!--MD5=[cda221d969a7724aaa9605251988ec20]
link FINACK to FINACK--><path d="M1126.6038,1026.8032 C1192.4914,1019.0679 1316.5,1021.4668 1316.5,1034 C1316.5,1046.215 1198.7088,1048.8038 1131.732,1041.7664 " fill="none" id="FINACK-&gt;FINACK-1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1126.6038,1041.1968,1135.1072,1046.166,1131.5732,1041.7488,1135.9904,1038.2149,1126.6038,1041.1968" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="1322.5" y="1038.5669">RecvMsg [!check_eot]</text><!--MD5=[965d3267340491b6ca6161b2bc98e793]
link FINACK to FIN--><path d="M1059.1539,1059.2827 C1039.4106,1073.8823 1013.4477,1092.0557 989,1106 C959.1219,1123.0417 923.0139,1138.8849 898.0611,1149.1475 " fill="none" id="FINACK-&gt;FIN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="893.2245,1151.1243,903.0689,1151.422,897.8528,1149.2326,900.0422,1144.0166,893.2245,1151.1243" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="1016" y="1102.0669">SendMsg [check_eot] / send_msg</text><!--MD5=[74956b5a9e82f8ce8ce66af2439d91ee]
link ACKFIN to ACKFIN--><path d="M679.6869,1028.4092 C697.9501,1027.5046 714.5,1029.3682 714.5,1034 C714.5,1038.1976 700.9077,1040.1217 684.766,1039.7722 " fill="none" id="ACKFIN-&gt;ACKFIN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="679.6869,1039.5908,688.5382,1043.9099,684.6837,1039.7695,688.8241,1035.915,679.6869,1039.5908" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="720.5" y="1038.5669">SendMsg [!check_eot]</text><!--MD5=[74956b5a9e82f8ce8ce66af2439d91ee]
link ACKFIN to ACKFIN--><path d="M679.6038,1026.8032 C745.4914,1019.0679 869.5,1021.4668 869.5,1034 C869.5,1046.215 751.7088,1048.8038 684.732,1041.7664 " fill="none" id="ACKFIN-&gt;ACKFIN-1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="679.6038,1041.1968,688.1072,1046.166,684.5732,1041.7488,688.9904,1038.2149,679.6038,1041.1968" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="875.5" y="1038.5669">RecvMsg [!check_eot]</text><!--MD5=[ce5da5611bd241d3c0411193df008fc3]
link ACKFIN to FIN--><path d="M679.8438,1053.8437 C723.4562,1078.6814 797.3953,1120.7902 838.3968,1144.1408 " fill="none" id="ACKFIN-&gt;FIN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="842.7445,1146.6168,836.9035,1138.687,838.3997,1144.1423,832.9443,1145.6386,842.7445,1146.6168" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="771" y="1102.0669">RecvMsg [check_eot] / recv_msg</text><!--MD5=[15e579cc7ec36911c9408b8680df8612]
@startuml

[*] - -> CTOR
CTOR - -> IDLE
IDLE - -> BOTSEND : SendMsg [check_send_bot] / send_msg
IDLE - -> BOTRECV : RecvMsg [check_recv_bot] / recv_bot
BOTSEND - -> flowsm_flowing : RecvMsg [check_recv_bot] / recv_bot
BOTRECV - -> flowsm_flowing : SendMsg [check_send_bot] / send_msg
flowsm_flowing - -> ACKFIN : SendMsg [check_eot] / send_msg
flowsm_flowing - -> FINACK : RecvMsg [check_eot] / recv_msg

FINACK - -> FINACK : SendMsg [!check_eot]
FINACK - -> FINACK : RecvMsg [!check_eot]
FINACK - -> FIN : SendMsg [check_eot] / send_msg

ACKFIN - -> ACKFIN : SendMsg [!check_eot]
ACKFIN - -> ACKFIN : RecvMsg [!check_eot]
ACKFIN - -> FIN : RecvMsg [check_eot] / recv_msg


state flowsm_flowing {
[*] - -> READY
READY - -> flowsm_giving : BeginFlow [lambda(auto:8, FlowApp&)]
READY - -> flowsm_taking : BeginFlow [lambda(auto:8, FlowApp&)]


state flowsm_giving {
[*] - -> BROKE
BROKE - -> GENEROUS : RecvMsg [check_pay] / recv_pay
GENEROUS - -> BROKE : SendMsg [check_one_credit, check_dat] / send_msg
GENEROUS - -> GENEROUS : SendMsg [check_many_credit, check_dat] / send_msg
GENEROUS - -> GENEROUS : RecvMsg [check_pay] / recv_pay
}

state flowsm_taking {
[*] - -> RICH
RICH - -> HANDSOUT : FlushPay [have_credit] / flush_pay
HANDSOUT - -> RICH : RecvMsg [penultimate_credit, check_dat] / recv_msg
HANDSOUT - -> HANDSOUT : RecvMsg [!penultimate_credit, check_dat] / recv_msg
HANDSOUT - -> HANDSOUT : FlushPay [have_credit] / flush_pay
}

}

@enduml

PlantUML version 1.2020.01(Sun Feb 16 12:40:32 EST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_242-8u242-b08-0ubuntu3~18.04-b08
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>