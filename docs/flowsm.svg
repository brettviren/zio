<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1110px" preserveAspectRatio="none" style="width:1243px;height:1110px;" version="1.1" viewBox="0 0 1243 1110" width="1243px" zoomAndPan="magnify"><defs><filter height="300%" id="f1986lf8hr6zyv" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="614.5" cy="18" fill="#000000" filter="url(#f1986lf8hr6zyv)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1986lf8hr6zyv)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="60" x="584.5" y="89"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="584.5" x2="644.5" y1="115.2969" y2="115.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="594.5" y="106.9951">CTOR</text><rect fill="#FEFECE" filter="url(#f1986lf8hr6zyv)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="589.5" y="200"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="589.5" x2="639.5" y1="226.2969" y2="226.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="599.5" y="217.9951">IDLE</text><rect fill="#FEFECE" filter="url(#f1986lf8hr6zyv)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="426" y="327"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="426" x2="515" y1="353.2969" y2="353.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="436" y="344.9951">BOTSEND</text><rect fill="#FEFECE" filter="url(#f1986lf8hr6zyv)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="716.5" y="327"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="716.5" x2="804.5" y1="353.2969" y2="353.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="726.5" y="344.9951">BOTRECV</text><rect fill="#FEFECE" filter="url(#f1986lf8hr6zyv)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="584.5" y="454"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="584.5" x2="652.5" y1="480.2969" y2="480.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="594.5" y="471.9951">READY</text><rect fill="#FEFECE" filter="url(#f1986lf8hr6zyv)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="446" y="922"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="446" x2="515" y1="948.2969" y2="948.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="456" y="939.9951">FINACK</text><rect fill="#FEFECE" filter="url(#f1986lf8hr6zyv)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="593.5" y="1049"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="593.5" x2="643.5" y1="1075.2969" y2="1075.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="608" y="1066.9951">FIN</text><rect fill="#FEFECE" filter="url(#f1986lf8hr6zyv)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="723" y="922"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="723" x2="792" y1="948.2969" y2="948.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="733" y="939.9951">ACKFIN</text><rect fill="#FEFECE" filter="url(#f1986lf8hr6zyv)" height="264.2969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="597" x="6" y="581"/><rect fill="#FFFFFF" height="232" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="591" x="9" y="610.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="6" x2="603" y1="607.2969" y2="607.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="257" y="598.9951">flowsm_giving</text><ellipse cx="135.99" cy="630.2969" fill="#000000" filter="url(#f1986lf8hr6zyv)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1986lf8hr6zyv)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="101.49" y="677.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="101.49" x2="170.49" y1="703.5938" y2="703.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="111.49" y="695.292">BROKE</text><rect fill="#FEFECE" filter="url(#f1986lf8hr6zyv)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="86.49" y="780.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="86.49" x2="185.49" y1="806.5938" y2="806.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="96.49" y="798.292">GENEROUS</text><!--MD5=[de7df578c6bf00e52b5ebb30f85bd19e]
link *start*flowsm_giving to BROKE--><path d="M135.99,640.4469 C135.99,648.4869 135.99,660.6269 135.99,671.9469 " fill="none" id="*start*flowsm_giving-&gt;BROKE" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="135.99,677.0769,139.99,668.0769,135.99,672.0769,131.99,668.0769,135.99,677.0769" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[c89a6c52353ecfaac6c0a5d8eaf08ddf]
link BROKE to GENEROUS--><path d="M101.23,705.8269 C74.68,709.7869 39.73,719.8669 21.99,745.2969 C3.27,772.1469 43.57,787.6169 81.33,795.9169 " fill="none" id="BROKE-&gt;GENEROUS" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="86.39,796.9869,78.4198,791.201,81.4995,795.946,76.7545,799.0258,86.39,796.9869" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="22.99" y="758.3638">RecvMsg [check_pay] / recv_pay</text><!--MD5=[0e2a4ee9d5ce5db19be8371c79a2cb19]
link GENEROUS to BROKE--><path d="M185.76,792.7769 C215.39,783.3469 244.62,767.8469 229.99,745.2969 C217.98,726.7669 195.67,716.3469 175.8,710.5169 " fill="none" id="GENEROUS-&gt;BROKE" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="170.81,709.1269,178.4092,715.3921,175.6272,710.4666,180.5527,707.6846,170.81,709.1269" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="335" x="233.99" y="758.3638">SendMsg [check_one_credit, check_dat] / send_msg</text><!--MD5=[fd7ee730fe36cbb93f3703a5ab21ea12]
link GENEROUS to GENEROUS--><path d="M185.74,796.2469 C196.06,797.2069 203.49,800.2169 203.49,805.2969 C203.49,809.5069 198.4,812.2969 190.78,813.6669 " fill="none" id="GENEROUS-&gt;GENEROUS" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="185.74,814.3469,195.1876,817.1294,190.6966,813.6898,194.1363,809.1988,185.74,814.3469" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="347" x="209.49" y="802.3638">SendMsg [check_many_credit, check_dat] / send_msg</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="279.99" y="817.4966">RecvMsg [check_pay] / recv_pay</text><rect fill="#FEFECE" filter="url(#f1986lf8hr6zyv)" height="264.2969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="593" x="638" y="581"/><rect fill="#FFFFFF" height="232" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="587" x="641" y="610.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="638" x2="1231" y1="607.2969" y2="607.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="886" y="598.9951">flowsm_taking</text><ellipse cx="773.23" cy="630.2969" fill="#000000" filter="url(#f1986lf8hr6zyv)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1986lf8hr6zyv)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="746.73" y="677.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="746.73" x2="799.73" y1="703.5938" y2="703.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="756.73" y="695.292">RICH</text><rect fill="#FEFECE" filter="url(#f1986lf8hr6zyv)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="723.73" y="780.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="723.73" x2="822.73" y1="806.5938" y2="806.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="733.73" y="798.292">HANDSOUT</text><!--MD5=[6ac15724c9f37c6f3576424a2d6073b4]
link *start*flowsm_taking to RICH--><path d="M773.23,640.4469 C773.23,648.4869 773.23,660.6269 773.23,671.9469 " fill="none" id="*start*flowsm_taking-&gt;RICH" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="773.23,677.0769,777.23,668.0769,773.23,672.0769,769.23,668.0769,773.23,677.0769" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[ad97076ba885a53e561bea0b878c3b9a]
link RICH to HANDSOUT--><path d="M746.73,704.2569 C718.51,706.8669 675.11,715.7869 654.23,745.2969 C634.35,773.3969 678.13,788.7869 718.08,796.7369 " fill="none" id="RICH-&gt;HANDSOUT" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="723.43,797.7669,715.3449,792.1427,718.5196,796.8248,713.8375,799.9994,723.43,797.7669" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="655.23" y="758.3638">FlushPay [have_credit] / flush_pay</text><!--MD5=[0ca11b8e07ece1a3428ac826cdb7c6b1]
link HANDSOUT to RICH--><path d="M822.97,793.9969 C855.06,784.8769 888.08,769.2369 872.23,745.2969 C857.38,722.8669 827.88,712.3769 804.93,707.4969 " fill="none" id="HANDSOUT-&gt;RICH" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="799.84,706.4869,807.8744,712.1833,804.7418,707.473,809.4521,704.3404,799.84,706.4869" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="320" x="877.23" y="758.3638">RecvMsg [check_last_credit, check_dat] / recv_eot</text><!--MD5=[eea753876672ce3265d9db6350895f1b]
link HANDSOUT to HANDSOUT--><path d="M822.98,796.2469 C833.31,797.2069 840.73,800.2169 840.73,805.2969 C840.73,809.5069 835.64,812.2969 828.02,813.6669 " fill="none" id="HANDSOUT-&gt;HANDSOUT" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="822.98,814.3469,832.4276,817.1294,827.9366,813.6898,831.3763,809.1988,822.98,814.3469" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="325" x="846.73" y="802.3638">RecvMsg [!check_last_credit, check_dat] / recv_dat</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="901.23" y="817.4966">FlushPay [have_credit] / flush_pay</text><!--MD5=[60064ffd66f60c3755d7f4cc10742ab1]
link *start to CTOR--><path d="M614.5,28.01 C614.5,40.7 614.5,64.41 614.5,83.57 " fill="none" id="*start-&gt;CTOR" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="614.5,88.84,618.5,79.84,614.5,83.84,610.5,79.84,614.5,88.84" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[1d2f793f0fbda3a9de05025a85af21a2]
link CTOR to IDLE--><path d="M614.5,139.19 C614.5,155.56 614.5,177.28 614.5,194.64 " fill="none" id="CTOR-&gt;IDLE" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="614.5,199.88,618.5,190.88,614.5,194.88,610.5,190.88,614.5,199.88" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[b15fc15c12522dc336d617ea13c4fa0d]
link IDLE to BOTSEND--><path d="M589.23,226.68 C554.24,229.15 492.12,239.37 463.5,280 C455.05,291.99 455.92,308.09 459.29,321.92 " fill="none" id="IDLE-&gt;BOTSEND" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="460.63,326.91,462.1527,317.1796,459.3301,322.0819,454.4278,319.2594,460.63,326.91" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="464.5" y="293.0669">SendMsg [check_send_bot] / send_msg</text><!--MD5=[7d9dd3e83bd1fb9406e825ef6b4270b9]
link IDLE to BOTRECV--><path d="M639.71,233.42 C663.73,241.55 699.67,256.65 723.5,280 C735.45,291.71 744.35,308.11 750.41,322.2 " fill="none" id="IDLE-&gt;BOTRECV" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="752.36,326.88,752.6059,317.0342,750.444,322.2617,745.2166,320.0998,752.36,326.88" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="236" x="738.5" y="293.0669">RecvMsg [check_recv_bot] / recv_bot</text><!--MD5=[8da5fa9e3b2e02eb53551d7fa78089e2]
link BOTSEND to READY--><path d="M465.65,377.26 C464.07,392.13 464.77,410.77 474.5,424 C498.68,456.87 545.31,469.74 578.96,474.77 " fill="none" id="BOTSEND-&gt;READY" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="584.25,475.52,575.8998,470.2975,579.2994,474.8189,574.778,478.2185,584.25,475.52" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="236" x="475.5" y="420.0669">RecvMsg [check_recv_bot] / recv_bot</text><!--MD5=[c61926f3d5789fc45521ef3641b6750f]
link BOTRECV to READY--><path d="M751.01,377.33 C744.25,392.22 733.98,410.87 720.5,424 C702.62,441.42 677.99,454.67 657.41,463.69 " fill="none" id="BOTRECV-&gt;READY" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="652.81,465.66,662.658,465.7913,657.4057,463.6904,659.5066,458.4381,652.81,465.66" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="734.5" y="420.0669">SendMsg [check_send_bot] / send_msg</text><!--MD5=[cda221d969a7724aaa9605251988ec20]
link FINACK to FINACK--><path d="M515.19,935.82 C533.45,934.01 550,937.74 550,947 C550,955.4 536.41,959.24 520.27,958.54 " fill="none" id="FINACK-&gt;FINACK" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="515.19,958.18,523.8812,962.8128,520.1772,958.5373,524.4528,954.8333,515.19,958.18" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="556" y="944.0669">SendMsg [!check_eot]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="557.5" y="959.1997">RecvMsg [!check_eot]</text><!--MD5=[965d3267340491b6ca6161b2bc98e793]
link FINACK to FIN--><path d="M478.62,972.02 C478.7,986.97 481.24,1005.81 491.5,1019 C515.07,1049.3 558.89,1062.82 588.37,1068.7 " fill="none" id="FINACK-&gt;FIN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="593.34,1069.65,585.2549,1064.0258,588.4296,1068.7079,583.7475,1071.8825,593.34,1069.65" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="492.5" y="1015.0669">SendMsg [check_eot] / send_msg</text><!--MD5=[74956b5a9e82f8ce8ce66af2439d91ee]
link ACKFIN to ACKFIN--><path d="M792.19,935.82 C810.45,934.01 827,937.74 827,947 C827,955.4 813.41,959.24 797.27,958.54 " fill="none" id="ACKFIN-&gt;ACKFIN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="792.19,958.18,800.8812,962.8128,797.1772,958.5373,801.4528,954.8333,792.19,958.18" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="833" y="944.0669">SendMsg [!check_eot]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="834.5" y="959.1997">RecvMsg [!check_eot]</text><!--MD5=[ce5da5611bd241d3c0411193df008fc3]
link ACKFIN to FIN--><path d="M746.41,972.16 C738.73,986.98 727.39,1005.62 713.5,1019 C694.65,1037.15 668.53,1051.42 648.45,1060.72 " fill="none" id="ACKFIN-&gt;FIN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="643.74,1062.86,653.5884,1062.7656,648.2894,1060.7856,650.2694,1055.4866,643.74,1062.86" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="202" x="728.5" y="1015.0669">RecvMsg [check_eot] / recv_eot</text><!--MD5=[c58a98e4673636b0d61ce72e2bb61d51]
link READY to flowsm_giving--><path d="M585.79,504.17 C560.93,522.54 524.57,549.4 486.19,577.75 " fill="none" id="READY-&gt;flowsm_giving" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="481.99,580.86,491.6073,578.7368,486.0138,577.8921,486.8586,572.2986,481.99,580.86" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="544.5" y="547.0669">BeginFlow [is_giver]</text><!--MD5=[a50e3dda0e4741a5a320afa7373b7d94]
link READY to flowsm_taking--><path d="M651.42,504.17 C676.44,522.54 713.03,549.4 751.65,577.75 " fill="none" id="READY-&gt;flowsm_taking" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="755.88,580.86,750.9918,572.3099,751.8493,577.9013,746.2579,578.7589,755.88,580.86" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="713.5" y="547.0669">BeginFlow [is_taker]</text><!--MD5=[92091da03e97bd1ac07168c7f518101b]
link flowsm_giving to ACKFIN--><path d="M418.21,845.19 C439.53,863.42 462.91,879.99 487.5,892 C575.39,934.91 611.63,894.54 705.5,922 C709.62,923.2 713.82,924.68 717.97,926.31 " fill="none" id="flowsm_giving-&gt;ACKFIN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="722.8,928.28,715.9744,921.18,718.1695,926.3935,712.956,928.5887,722.8,928.28" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="488.5" y="888.0669">SendMsg [check_eot] / send_msg</text><!--MD5=[278f257b02eb8574e0db7f9f118b90f6]
link flowsm_giving to FINACK--><path d="M229.98,845.37 C228.79,862.02 232.4,878.08 243.5,892 C267.75,922.4 379.94,937.02 440.87,942.82 " fill="none" id="flowsm_giving-&gt;FINACK" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="445.88,943.29,437.2828,938.4849,440.9009,942.8335,436.5524,946.4515,445.88,943.29" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="202" x="244.5" y="888.0669">RecvMsg [check_eot] / recv_eot</text><!--MD5=[919bf70b1a72a52edcc08a0cfc55f515]
link flowsm_taking to ACKFIN--><path d="M970.44,845.28 C968.98,862.14 963.95,878.28 953.5,892 C934.68,916.7 849.14,932.96 797.48,940.71 " fill="none" id="flowsm_taking-&gt;ACKFIN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="792.28,941.48,801.766,944.1288,797.2269,940.7529,800.6027,936.2138,792.28,941.48" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="963.5" y="888.0669">SendMsg [check_eot] / send_msg</text><!--MD5=[cd39e256c003061a163087510bbe89ef]
link flowsm_taking to FINACK--><path d="M787.16,845.04 C762.39,862.72 736.07,879.15 709.5,892 C647.23,922.11 567.15,936.01 520.06,941.98 " fill="none" id="flowsm_taking-&gt;FINACK" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="515.05,942.6,524.4736,945.4628,520.012,941.9851,523.4898,937.5236,515.05,942.6" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="202" x="738.5" y="888.0669">RecvMsg [check_eot] / recv_eot</text><!--MD5=[a82cfb7b862728910c222507090375c5]
@startuml

[*] - -> CTOR
CTOR - -> IDLE
IDLE - -> BOTSEND : SendMsg [check_send_bot] / send_msg
IDLE - -> BOTRECV : RecvMsg [check_recv_bot] / recv_bot
BOTSEND - -> READY : RecvMsg [check_recv_bot] / recv_bot
BOTRECV - -> READY : SendMsg [check_send_bot] / send_msg

FINACK - -> FINACK : SendMsg [!check_eot]\nRecvMsg [!check_eot]
FINACK - -> FIN : SendMsg [check_eot] / send_msg

ACKFIN - -> ACKFIN : SendMsg [!check_eot]\nRecvMsg [!check_eot]
ACKFIN - -> FIN : RecvMsg [check_eot] / recv_eot


READY - -> flowsm_giving : BeginFlow [is_giver]
READY - -> flowsm_taking : BeginFlow [is_taker]


state flowsm_giving {
[*] - -> BROKE
BROKE - -> GENEROUS : RecvMsg [check_pay] / recv_pay
GENEROUS - -> BROKE : SendMsg [check_one_credit, check_dat] / send_msg
GENEROUS - -> GENEROUS : SendMsg [check_many_credit, check_dat] / send_msg\nRecvMsg [check_pay] / recv_pay
}

state flowsm_taking {
[*] - -> RICH
RICH - -> HANDSOUT : FlushPay [have_credit] / flush_pay
HANDSOUT - -> RICH : RecvMsg [check_last_credit, check_dat] / recv_eot
HANDSOUT - -> HANDSOUT : RecvMsg [!check_last_credit, check_dat] / recv_dat\nFlushPay [have_credit] / flush_pay
}

flowsm_giving - -> ACKFIN : SendMsg [check_eot] / send_msg
flowsm_giving - -> FINACK : RecvMsg [check_eot] / recv_eot
flowsm_taking - -> ACKFIN : SendMsg [check_eot] / send_msg
flowsm_taking - -> FINACK : RecvMsg [check_eot] / recv_eot

@enduml

PlantUML version 1.2019.13(Tue Dec 10 12:18:29 EST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-post-Debian-3deb10u1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>