<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1110px" preserveAspectRatio="none" style="width:1714px;height:1110px;" version="1.1" viewBox="0 0 1714 1110" width="1714px" zoomAndPan="magnify"><defs><filter height="300%" id="f1aqvt05bvf37f" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="846.5" cy="18" fill="#000000" filter="url(#f1aqvt05bvf37f)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1aqvt05bvf37f)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="60" x="816.5" y="89"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="816.5" x2="876.5" y1="115.2969" y2="115.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="826.5" y="106.9951">CTOR</text><rect fill="#FEFECE" filter="url(#f1aqvt05bvf37f)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="821.5" y="200"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="821.5" x2="871.5" y1="226.2969" y2="226.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="831.5" y="217.9951">IDLE</text><rect fill="#FEFECE" filter="url(#f1aqvt05bvf37f)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="658" y="327"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="658" x2="747" y1="353.2969" y2="353.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="668" y="344.9951">BOTSEND</text><rect fill="#FEFECE" filter="url(#f1aqvt05bvf37f)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="948.5" y="327"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="948.5" x2="1036.5" y1="353.2969" y2="353.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="958.5" y="344.9951">BOTRECV</text><rect fill="#FEFECE" filter="url(#f1aqvt05bvf37f)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="816.5" y="454"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="816.5" x2="884.5" y1="480.2969" y2="480.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="826.5" y="471.9951">READY</text><rect fill="#FEFECE" filter="url(#f1aqvt05bvf37f)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="593" y="922"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="593" x2="662" y1="948.2969" y2="948.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="603" y="939.9951">FINACK</text><rect fill="#FEFECE" filter="url(#f1aqvt05bvf37f)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="825.5" y="1049"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="825.5" x2="875.5" y1="1075.2969" y2="1075.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="840" y="1066.9951">FIN</text><rect fill="#FEFECE" filter="url(#f1aqvt05bvf37f)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="1040" y="922"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1040" x2="1109" y1="948.2969" y2="948.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="1050" y="939.9951">ACKFIN</text><rect fill="#FEFECE" filter="url(#f1aqvt05bvf37f)" height="264.2969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="825" x="6" y="581"/><rect fill="#FFFFFF" height="232" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="819" x="9" y="610.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="6" x2="831" y1="607.2969" y2="607.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="371" y="598.9951">flowsm_giving</text><ellipse cx="135.9762" cy="630.2969" fill="#000000" filter="url(#f1aqvt05bvf37f)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1aqvt05bvf37f)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="101.4762" y="677.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="101.4762" x2="170.4762" y1="703.5938" y2="703.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="111.4762" y="695.292">BROKE</text><rect fill="#FEFECE" filter="url(#f1aqvt05bvf37f)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="86.4762" y="780.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="86.4762" x2="185.4762" y1="806.5938" y2="806.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="96.4762" y="798.292">GENEROUS</text><!--MD5=[de7df578c6bf00e52b5ebb30f85bd19e]
link *start*flowsm_giving to BROKE--><path d="M135.9762,640.3082 C135.9762,648.5512 135.9762,660.6866 135.9762,672.0398 " fill="none" id="*start*flowsm_giving-&gt;BROKE" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="135.9762,677.1843,139.9762,668.1843,135.9762,672.1843,131.9762,668.1843,135.9762,677.1843" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[c89a6c52353ecfaac6c0a5d8eaf08ddf]
link BROKE to GENEROUS--><path d="M101.3879,710.7207 C71.3828,718.8111 31.331,731.7703 21.9762,745.2969 C3.2876,772.32 43.5877,788.0868 81.3299,796.6175 " fill="none" id="BROKE-&gt;GENEROUS" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="86.3925,797.7231,78.4532,791.8948,81.5076,796.6562,76.7463,799.7106,86.3925,797.7231" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="22.9762" y="758.3638">RecvMsg [check_pay] / recv_pay</text><!--MD5=[0e2a4ee9d5ce5db19be8371c79a2cb19]
link GENEROUS to BROKE--><path d="M185.7267,793.4479 C215.3471,783.7967 244.5707,768.0221 229.9762,745.2969 C217.9968,726.6436 195.6908,715.9798 175.8136,709.9385 " fill="none" id="GENEROUS-&gt;BROKE" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="170.8202,708.5001,178.3612,714.8352,175.6248,709.8842,180.5758,707.1478,170.8202,708.5001" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="335" x="233.9762" y="758.3638">SendMsg [check_one_credit, check_dat] / send_msg</text><!--MD5=[fd7ee730fe36cbb93f3703a5ab21ea12]
link GENEROUS to GENEROUS--><path d="M185.7216,800.7742 C196.0495,801.2503 203.4762,802.7578 203.4762,805.2969 C203.4762,807.3996 198.383,808.7948 190.7668,809.4827 " fill="none" id="GENEROUS-&gt;GENEROUS" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="185.7216,809.8196,194.9682,813.2108,190.7105,809.4863,194.435,805.2286,185.7216,809.8196" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="347" x="209.4762" y="809.8638">SendMsg [check_many_credit, check_dat] / send_msg</text><!--MD5=[fd7ee730fe36cbb93f3703a5ab21ea12]
link GENEROUS to GENEROUS--><path d="M185.5092,799.6069 C299.1021,793.2318 562.4762,795.1284 562.4762,805.2969 C562.4762,815.3164 306.7616,817.3047 190.5962,811.2617 " fill="none" id="GENEROUS-&gt;GENEROUS-1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="185.5092,810.9869,194.2802,815.4668,190.5019,811.2567,194.712,807.4784,185.5092,810.9869" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="568.4762" y="809.8638">RecvMsg [check_pay] / recv_pay</text><rect fill="#FEFECE" filter="url(#f1aqvt05bvf37f)" height="264.2969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="836" x="866.5" y="581"/><rect fill="#FFFFFF" height="232" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="830" x="869.5" y="610.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="866.5" x2="1702.5" y1="607.2969" y2="607.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="1236" y="598.9951">flowsm_taking</text><ellipse cx="1001.7161" cy="630.2969" fill="#000000" filter="url(#f1aqvt05bvf37f)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1aqvt05bvf37f)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="975.2161" y="677.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="975.2161" x2="1028.2161" y1="703.5938" y2="703.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="985.2161" y="695.292">RICH</text><rect fill="#FEFECE" filter="url(#f1aqvt05bvf37f)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="952.2161" y="780.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="952.2161" x2="1051.2161" y1="806.5938" y2="806.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="962.2161" y="798.292">HANDSOUT</text><!--MD5=[6ac15724c9f37c6f3576424a2d6073b4]
link *start*flowsm_taking to RICH--><path d="M1001.7161,640.3082 C1001.7161,648.5512 1001.7161,660.6866 1001.7161,672.0398 " fill="none" id="*start*flowsm_taking-&gt;RICH" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1001.7161,677.1843,1005.7161,668.1843,1001.7161,672.1843,997.7161,668.1843,1001.7161,677.1843" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[ad97076ba885a53e561bea0b878c3b9a]
link RICH to HANDSOUT--><path d="M975.1931,708.1532 C943.5574,715.7387 893.5699,729.8343 882.7161,745.2969 C862.8701,773.57 906.6454,789.2726 946.5851,797.4506 " fill="none" id="RICH-&gt;HANDSOUT" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="951.9355,798.5071,943.881,792.8392,947.0302,797.5384,942.3311,800.6876,951.9355,798.5071" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="883.7161" y="758.3638">FlushPay [have_credit] / flush_pay</text><!--MD5=[0ca11b8e07ece1a3428ac826cdb7c6b1]
link HANDSOUT to RICH--><path d="M1051.4329,794.691 C1083.5112,785.345 1116.5337,769.4124 1100.7161,745.2969 C1085.9062,722.7177 1056.4007,711.9334 1033.4365,706.8196 " fill="none" id="HANDSOUT-&gt;RICH" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1028.3475,705.754,1036.3365,711.5138,1033.2413,706.7788,1037.9763,703.6836,1028.3475,705.754" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="337" x="1105.7161" y="758.3638">RecvMsg [penultimate_credit, check_dat] / recv_msg</text><!--MD5=[eea753876672ce3265d9db6350895f1b]
link HANDSOUT to HANDSOUT--><path d="M1051.4615,800.7742 C1061.7893,801.2503 1069.2161,802.7578 1069.2161,805.2969 C1069.2161,807.3996 1064.1229,808.7948 1056.5067,809.4827 " fill="none" id="HANDSOUT-&gt;HANDSOUT" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1051.4615,809.8196,1060.7081,813.2108,1056.4504,809.4863,1060.1749,805.2286,1051.4615,809.8196" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="342" x="1075.2161" y="809.8638">RecvMsg [!penultimate_credit, check_dat] / recv_msg</text><!--MD5=[eea753876672ce3265d9db6350895f1b]
link HANDSOUT to HANDSOUT--><path d="M1051.604,799.5612 C1164.3979,793.2409 1423.2161,795.1529 1423.2161,805.2969 C1423.2161,815.2923 1171.925,817.2951 1056.6535,811.3051 " fill="none" id="HANDSOUT-&gt;HANDSOUT-1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1051.604,811.0326,1060.3754,815.5117,1056.5967,811.302,1060.8065,807.5234,1051.604,811.0326" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="1429.2161" y="809.8638">FlushPay [have_credit] / flush_pay</text><!--MD5=[60064ffd66f60c3755d7f4cc10742ab1]
link *start to CTOR--><path d="M846.5,28.2737 C846.5,41.3608 846.5,64.5555 846.5,83.5207 " fill="none" id="*start-&gt;CTOR" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="846.5,88.7458,850.5,79.7458,846.5,83.7458,842.5,79.7458,846.5,88.7458" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[1d2f793f0fbda3a9de05025a85af21a2]
link CTOR to IDLE--><path d="M846.5,139.1876 C846.5,155.6504 846.5,177.2461 846.5,194.6543 " fill="none" id="CTOR-&gt;IDLE" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="846.5,199.9121,850.5,190.9121,846.5,194.9121,842.5,190.9121,846.5,199.9121" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[b15fc15c12522dc336d617ea13c4fa0d]
link IDLE to BOTSEND--><path d="M821.1968,230.5402 C782.1763,239.6544 710.2601,258.915 695.5,280 C687.097,292.0038 687.8072,308.0211 691.0694,321.9003 " fill="none" id="IDLE-&gt;BOTSEND" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="692.3746,326.9056,693.9741,317.1875,691.1129,322.0674,686.233,319.2062,692.3746,326.9056" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="696.5" y="293.0669">SendMsg [check_send_bot] / send_msg</text><!--MD5=[7d9dd3e83bd1fb9406e825ef6b4270b9]
link IDLE to BOTRECV--><path d="M871.7413,232.6365 C895.7821,240.9857 931.7317,256.4066 955.5,280 C967.3288,291.7418 976.1386,308.0564 982.1879,322.1871 " fill="none" id="IDLE-&gt;BOTRECV" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="984.1339,326.8858,984.3855,317.0402,982.2206,322.2664,976.9944,320.1014,984.1339,326.8858" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="236" x="969.5" y="293.0669">RecvMsg [check_recv_bot] / recv_bot</text><!--MD5=[8da5fa9e3b2e02eb53551d7fa78089e2]
link BOTSEND to READY--><path d="M697.5119,377.2612 C696.0075,392.2119 696.8283,410.7552 706.5,424 C719.225,441.4262 773.0578,458.7222 811.1598,469.1372 " fill="none" id="BOTSEND-&gt;READY" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="816.1916,470.4979,808.5477,464.2873,811.3649,469.1928,806.4595,472.01,816.1916,470.4979" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="236" x="707.5" y="420.0669">RecvMsg [check_recv_bot] / recv_bot</text><!--MD5=[c61926f3d5789fc45521ef3641b6750f]
link BOTRECV to READY--><path d="M982.7365,377.3202 C975.9906,392.2926 965.8288,410.8378 952.5,424 C934.6664,441.6108 910.0348,455.1062 889.4447,464.3212 " fill="none" id="BOTRECV-&gt;READY" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="884.8471,466.3385,894.6958,466.3852,889.4257,464.3295,891.4814,459.0594,884.8471,466.3385" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="966.5" y="420.0669">SendMsg [check_send_bot] / send_msg</text><!--MD5=[cda221d969a7724aaa9605251988ec20]
link FINACK to FINACK--><path d="M662.1869,941.4092 C680.4501,940.5046 697,942.3682 697,947 C697,951.1976 683.4077,953.1217 667.266,952.7722 " fill="none" id="FINACK-&gt;FINACK" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="662.1869,952.5908,671.0382,956.9099,667.1837,952.7695,671.3241,948.915,662.1869,952.5908" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="703" y="951.5669">SendMsg [!check_eot]</text><!--MD5=[cda221d969a7724aaa9605251988ec20]
link FINACK to FINACK--><path d="M662.1038,939.8032 C727.9914,932.0679 852,934.4668 852,947 C852,959.215 734.2088,961.8038 667.232,954.7664 " fill="none" id="FINACK-&gt;FINACK-1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="662.1038,954.1968,670.6072,959.166,667.0732,954.7488,671.4904,951.2149,662.1038,954.1968" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="858" y="951.5669">RecvMsg [!check_eot]</text><!--MD5=[965d3267340491b6ca6161b2bc98e793]
link FINACK to FIN--><path d="M662.3438,966.8437 C705.9562,991.6814 779.8953,1033.7902 820.8968,1057.1408 " fill="none" id="FINACK-&gt;FIN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="825.2445,1059.6168,819.4035,1051.687,820.8997,1057.1423,815.4443,1058.6386,825.2445,1059.6168" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="753.5" y="1015.0669">SendMsg [check_eot] / send_msg</text><!--MD5=[74956b5a9e82f8ce8ce66af2439d91ee]
link ACKFIN to ACKFIN--><path d="M1109.1869,941.4092 C1127.4501,940.5046 1144,942.3682 1144,947 C1144,951.1976 1130.4077,953.1217 1114.266,952.7722 " fill="none" id="ACKFIN-&gt;ACKFIN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1109.1869,952.5908,1118.0382,956.9099,1114.1837,952.7695,1118.3241,948.915,1109.1869,952.5908" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="1150" y="951.5669">SendMsg [!check_eot]</text><!--MD5=[74956b5a9e82f8ce8ce66af2439d91ee]
link ACKFIN to ACKFIN--><path d="M1109.1038,939.8032 C1174.9914,932.0679 1299,934.4668 1299,947 C1299,959.215 1181.2088,961.8038 1114.232,954.7664 " fill="none" id="ACKFIN-&gt;ACKFIN-1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1109.1038,954.1968,1117.6072,959.166,1114.0732,954.7488,1118.4904,951.2149,1109.1038,954.1968" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="1305" y="951.5669">RecvMsg [!check_eot]</text><!--MD5=[ce5da5611bd241d3c0411193df008fc3]
link ACKFIN to FIN--><path d="M1044.6601,972.2968 C1026.33,987.0784 1001.9404,1005.4333 978.5,1019 C946.5748,1037.4775 907.2604,1053.4591 880.691,1063.3609 " fill="none" id="ACKFIN-&gt;FIN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="875.8829,1065.1383,885.7115,1065.7697,880.5727,1063.4047,882.9377,1058.2659,875.8829,1065.1383" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="1003.5" y="1015.0669">RecvMsg [check_eot] / recv_msg</text><!--MD5=[c58a98e4673636b0d61ce72e2bb61d51]
link READY to flowsm_giving--><path d="M816.2406,497.5572 C782.0576,516.073 726.2306,546.3126 667.0673,578.3594 " fill="none" id="READY-&gt;flowsm_giving" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="662.4368,580.8675,672.2556,580.0981,666.8332,578.4861,668.4453,573.0638,662.4368,580.8675" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="247" x="747.5" y="547.0669">BeginFlow [lambda(auto:8, FlowApp&amp;)]</text><!--MD5=[a50e3dda0e4741a5a320afa7373b7d94]
link READY to flowsm_taking--><path d="M884.5071,488.8349 C916.11,498.5269 964.0952,514.666 1003.5,534 C1030.4869,547.2412 1058.0973,562.4832 1084.9658,578.3679 " fill="none" id="READY-&gt;flowsm_taking" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1089.2714,580.9226,1083.5726,572.8899,1084.9714,578.3711,1079.4902,579.7699,1089.2714,580.9226" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="247" x="1036.5" y="547.0669">BeginFlow [lambda(auto:8, FlowApp&amp;)]</text><!--MD5=[92091da03e97bd1ac07168c7f518101b]
link flowsm_giving to ACKFIN--><path d="M641.1651,845.0528 C679.3015,863.3138 719.293,879.9202 758.5,892 C871.3534,926.7706 909.0316,889.292 1022.5,922 C1026.6508,923.1965 1030.8788,924.6993 1035.0401,926.3713 " fill="none" id="flowsm_giving-&gt;ACKFIN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1039.886,928.4036,1033.1334,921.234,1035.2751,926.4698,1030.0393,928.6115,1039.886,928.4036" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="759.5" y="888.0669">SendMsg [check_eot] / send_msg</text><!--MD5=[278f257b02eb8574e0db7f9f118b90f6]
link flowsm_giving to FINACK--><path d="M460.3387,845.2329 C469.6769,862.3573 480.9486,878.5753 494.5,892 C520.0061,917.2676 558.7797,931.4977 587.8919,939.1204 " fill="none" id="flowsm_giving-&gt;FINACK" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="592.843,940.3779,585.1046,934.2855,587.9969,939.147,583.1353,942.0393,592.843,940.3779" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="495.5" y="888.0669">RecvMsg [check_eot] / recv_msg</text><!--MD5=[919bf70b1a72a52edcc08a0cfc55f515]
link flowsm_taking to ACKFIN--><path d="M1266.9101,845.0569 C1260.1492,862.3092 1250.9582,878.6103 1238.5,892 C1221.4472,910.3277 1157.0471,928.1109 1114.2033,938.2853 " fill="none" id="flowsm_taking-&gt;ACKFIN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1109.0899,939.4879,1118.7667,941.3209,1113.9571,938.343,1116.9349,933.5334,1109.0899,939.4879" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="1251.5" y="888.0669">SendMsg [check_eot] / send_msg</text><!--MD5=[cd39e256c003061a163087510bbe89ef]
link flowsm_taking to FINACK--><path d="M1072.8309,845.098 C1035.3149,866.685 1001.5504,884.474 980.5,892 C871.4967,930.9711 733.8056,942.3517 667.194,945.6578 " fill="none" id="flowsm_taking-&gt;FINACK" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="662.1344,945.9001,671.3155,949.4648,667.1287,945.6608,670.9327,941.474,662.1344,945.9001" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="1013.5" y="888.0669">RecvMsg [check_eot] / recv_msg</text><!--MD5=[69077bf25823a75d4eba6575db063a2d]
@startuml

[*] - -> CTOR
CTOR - -> IDLE
IDLE - -> BOTSEND : SendMsg [check_send_bot] / send_msg
IDLE - -> BOTRECV : RecvMsg [check_recv_bot] / recv_bot
BOTSEND - -> READY : RecvMsg [check_recv_bot] / recv_bot
BOTRECV - -> READY : SendMsg [check_send_bot] / send_msg

FINACK - -> FINACK : SendMsg [!check_eot]
FINACK - -> FINACK : RecvMsg [!check_eot]
FINACK - -> FIN : SendMsg [check_eot] / send_msg

ACKFIN - -> ACKFIN : SendMsg [!check_eot]
ACKFIN - -> ACKFIN : RecvMsg [!check_eot]
ACKFIN - -> FIN : RecvMsg [check_eot] / recv_msg


READY - -> flowsm_giving : BeginFlow [lambda(auto:8, FlowApp&)]
READY - -> flowsm_taking : BeginFlow [lambda(auto:8, FlowApp&)]


state flowsm_giving {
[*] - -> BROKE
BROKE - -> GENEROUS : RecvMsg [check_pay] / recv_pay
GENEROUS - -> BROKE : SendMsg [check_one_credit, check_dat] / send_msg
GENEROUS - -> GENEROUS : SendMsg [check_many_credit, check_dat] / send_msg
GENEROUS - -> GENEROUS : RecvMsg [check_pay] / recv_pay
}

state flowsm_taking {
[*] - -> RICH
RICH - -> HANDSOUT : FlushPay [have_credit] / flush_pay
HANDSOUT - -> RICH : RecvMsg [penultimate_credit, check_dat] / recv_msg
HANDSOUT - -> HANDSOUT : RecvMsg [!penultimate_credit, check_dat] / recv_msg
HANDSOUT - -> HANDSOUT : FlushPay [have_credit] / flush_pay
}

flowsm_giving - -> ACKFIN : SendMsg [check_eot] / send_msg
flowsm_giving - -> FINACK : RecvMsg [check_eot] / recv_msg
flowsm_taking - -> ACKFIN : SendMsg [check_eot] / send_msg
flowsm_taking - -> FINACK : RecvMsg [check_eot] / recv_msg

@enduml

PlantUML version 1.2020.01(Sun Feb 16 12:40:32 EST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_242-8u242-b08-0ubuntu3~18.04-b08
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>